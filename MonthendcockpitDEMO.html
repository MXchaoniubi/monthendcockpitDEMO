<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æœˆç»“é©¾é©¶èˆ± - æ™ºèƒ½æœˆç»“ç®¡ç†å¹³å° v12</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
            background: #f5f7fa;
            min-height: 100vh;
            color: #333;
            overflow-x: hidden;
        }

        /* Layout */
        .main-layout {
            display: flex;
            min-height: 100vh;
        }

        /* Left Sidebar Navigation */
        .sidebar {
            width: 240px;
            background: #ffffff;
            border-right: 1px solid #e9ecef;
            padding: 20px 0;
            position: fixed;
            left: 0;
            top: 0;
            bottom: 0;
            overflow-y: auto;
            z-index: 100;
            box-shadow: 2px 0 8px rgba(0, 0, 0, 0.05);
        }

        .sidebar-header {
            padding: 0 20px 20px;
            border-bottom: 1px solid #f0f0f0;
            margin-bottom: 10px;
        }

        .sidebar-header h1 {
            font-size: 20px;
            color: #2c3e50;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .sidebar-header h1::before {
            content: "ğŸ“Š";
            font-size: 22px;
        }

        .user-mini {
            margin-top: 12px;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 12px;
            color: #666;
        }

        .user-mini-avatar {
            width: 28px;
            height: 28px;
            background: linear-gradient(135deg, #4facfe, #00f2fe);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 11px;
        }

        .nav-menu {
            list-style: none;
        }

        .nav-item {
            margin: 4px 10px;
        }

        .nav-btn {
            width: 100%;
            padding: 12px 16px;
            border: none;
            background: transparent;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            color: #555;
            text-align: left;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.2s;
            font-weight: 500;
        }

        .nav-btn:hover {
            background: #f8f9fa;
            color: #4facfe;
        }

        .nav-btn.active {
            background: linear-gradient(135deg, #4facfe, #00f2fe);
            color: white;
            box-shadow: 0 2px 8px rgba(79, 172, 254, 0.3);
        }

        /* AI Button - White Style */
        .nav-btn.ai-btn {
            background: #ffffff;
            color: #555;
            border: 2px solid #e9ecef;
            margin-top: 8px;
        }

        .nav-btn.ai-btn:hover {
            background: #f8f9fa;
            border-color: #4facfe;
            color: #4facfe;
            transform: translateX(2px);
            box-shadow: 0 2px 8px rgba(79, 172, 254, 0.2);
        }

        .nav-btn.ai-btn.active {
            background: linear-gradient(135deg, #4facfe, #00f2fe);
            color: white;
            border-color: transparent;
        }

        /* Main Content Area */
        .content-wrapper {
            flex: 1;
            margin-left: 240px;
            padding: 20px;
        }

        .content-header {
            background: white;
            border-radius: 12px;
            padding: 20px 24px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .content-header h2 {
            font-size: 22px;
            color: #2c3e50;
            font-weight: 600;
        }

        .header-info {
            display: flex;
            gap: 20px;
            align-items: center;
            font-size: 13px;
            color: #666;
        }

        .info-badge {
            background: #f0f4f8;
            padding: 6px 12px;
            border-radius: 6px;
            font-weight: 500;
        }

        .content-area {
            background: white;
            border-radius: 12px;
            padding: 24px;
            min-height: calc(100vh - 140px);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Dashboard Overview */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 16px;
            margin-bottom: 24px;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 18px;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.2);
            transition: transform 0.2s;
        }

        .stat-card:hover {
            transform: translateY(-2px);
        }

        .stat-card h3 {
            font-size: 13px;
            opacity: 0.9;
            margin-bottom: 6px;
            font-weight: 500;
        }

        .stat-card .value {
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 4px;
        }

        .stat-card .trend {
            font-size: 11px;
            opacity: 0.85;
        }

        .stat-card.success { 
            background: linear-gradient(135deg, #11998e, #38ef7d); 
        }
        
        .stat-card.warning { 
            background: linear-gradient(135deg, #f093fb, #f5576c); 
        }
        
        .stat-card.info { 
            background: linear-gradient(135deg, #4facfe, #00f2fe); 
        }

        /* Section Titles */
        .section-title {
            font-size: 16px;
            font-weight: 600;
            margin: 24px 0 12px;
            color: #2c3e50;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .section-title::before {
            content: "";
            width: 4px;
            height: 16px;
            background: linear-gradient(135deg, #4facfe, #00f2fe);
            border-radius: 2px;
        }

        /* Alert */
        .alert {
            padding: 12px 16px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 13px;
            line-height: 1.5;
        }

        .alert-info {
            background: #e7f3ff;
            color: #0066cc;
            border-left: 3px solid #4facfe;
        }

        .alert-warning {
            background: #fff4e6;
            color: #856404;
            border-left: 3px solid #ffc107;
        }

        .alert-danger {
            background: #ffebee;
            color: #c62828;
            border-left: 3px solid #f44336;
        }

        .alert-success {
            background: #e8f5e9;
            color: #2e7d32;
            border-left: 3px solid #4caf50;
        }

        /* Progress Section */
        .progress-item {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 14px;
            margin-bottom: 10px;
            border-left: 3px solid #6c757d;
        }

        .progress-item.completed {
            border-left-color: #28a745;
            background: #f0fff4;
        }

        .progress-item.warning {
            border-left-color: #ffc107;
            background: #fffef0;
        }

        .progress-item.error {
            border-left-color: #f44336;
            background: #fff5f5;
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 6px;
        }

        .progress-title {
            font-weight: 600;
            color: #333;
            font-size: 14px;
        }

        .progress-status {
            font-size: 11px;
            padding: 4px 8px;
            border-radius: 10px;
            font-weight: 600;
            text-transform: uppercase;
        }

        .status-completed { background: #28a745; color: white; }
        .status-running { background: #17a2b8; color: white; }
        .status-pending { background: #6c757d; color: white; }
        .status-error { background: #f44336; color: white; }

        .progress-bar {
            width: 100%;
            height: 6px;
            background: #dee2e6;
            border-radius: 3px;
            overflow: hidden;
            margin-top: 6px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4facfe, #00f2fe);
            border-radius: 3px;
            transition: width 0.5s;
        }

        .progress-fill.error {
            background: #f44336;
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            font-size: 11px;
            color: #666;
            margin-top: 4px;
        }

        /* Action Buttons */
        .action-buttons {
            display: flex;
            gap: 10px;
            margin: 16px 0 20px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 10px 18px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 13px;
            font-weight: 600;
            transition: all 0.2s;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            white-space: nowrap;
        }

        .btn-primary {
            background: linear-gradient(135deg, #4facfe, #00f2fe);
            color: white;
            box-shadow: 0 2px 6px rgba(79, 172, 254, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 10px rgba(79, 172, 254, 0.4);
        }

        .btn-success {
            background: linear-gradient(135deg, #11998e, #38ef7d);
            color: white;
        }

        .btn-warning {
            background: linear-gradient(135deg, #f093fb, #f5576c);
            color: white;
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
        }

        /* Task Table */
        .task-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 12px;
            font-size: 12px;
            border-radius: 8px;
            overflow: hidden;
        }

        .task-table th {
            background: #f8f9fa;
            color: #495057;
            padding: 10px;
            text-align: left;
            font-weight: 600;
            border-bottom: 2px solid #e9ecef;
        }

        .task-table td {
            padding: 10px;
            border-bottom: 1px solid #f0f0f0;
        }

        .task-table tr:hover {
            background: #f8f9fa;
        }

        .task-table .status-badge {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 10px;
            font-size: 10px;
            font-weight: 600;
        }

        .badge-auto { background: #4facfe; color: white; }
        .badge-manual { background: #6c757d; color: white; }
        .badge-check { background: #17a2b8; color: white; }

        /* KPI Cards */
        .kpi-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 12px;
            margin-bottom: 20px;
        }

        .kpi-card {
            background: white;
            border-radius: 8px;
            padding: 14px;
            border: 1px solid #e9ecef;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
        }

        .kpi-label {
            font-size: 11px;
            color: #666;
            margin-bottom: 4px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .kpi-value {
            font-size: 22px;
            font-weight: bold;
            color: #2c3e50;
        }

        .kpi-unit {
            font-size: 11px;
            color: #999;
            margin-left: 3px;
        }

        /* Timeline */
        .timeline {
            position: relative;
            padding-left: 24px;
            margin: 16px 0;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 8px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: #e9ecef;
        }

        .timeline-item {
            position: relative;
            margin-bottom: 14px;
            padding: 10px 12px;
            background: #f8f9fa;
            border-radius: 6px;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -18px;
            top: 14px;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #4facfe;
            border: 2px solid white;
            box-shadow: 0 0 0 2px #4facfe;
        }

        .timeline-item.completed::before {
            background: #28a745;
            box-shadow: 0 0 0 2px #28a745;
        }

        .timeline-item.current::before {
            background: #ffc107;
            box-shadow: 0 0 0 2px #ffc107;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.2); opacity: 0.7; }
        }

        .timeline-title {
            font-weight: 600;
            margin-bottom: 3px;
            font-size: 13px;
        }

        .timeline-time {
            font-size: 11px;
            color: #999;
        }

        /* Chart Bars */
        .chart-container {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 16px;
            height: 240px;
            display: flex;
            align-items: flex-end;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .chart-bars {
            display: flex;
            align-items: flex-end;
            gap: 12px;
            height: 180px;
            width: 100%;
            padding: 10px;
        }

        .chart-bar {
            flex: 1;
            background: linear-gradient(to top, #4facfe, #00f2fe);
            border-radius: 4px 4px 0 0;
            position: relative;
            transition: height 0.5s;
            min-height: 10px;
            max-width: 60px;
        }

        .chart-bar::after {
            content: attr(data-value);
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 10px;
            font-weight: 600;
            color: #666;
            white-space: nowrap;
        }

        .chart-bar-label {
            position: absolute;
            bottom: -20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 10px;
            color: #666;
            white-space: nowrap;
        }

        /* Notification Item */
        .notification-item {
            background: white;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 8px;
            display: flex;
            gap: 10px;
            align-items: start;
        }

        .notification-icon {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            flex-shrink: 0;
        }

        .notification-icon.info { background: #e7f3ff; color: #0066cc; }
        .notification-icon.warning { background: #fff4e6; color: #856404; }
        .notification-icon.error { background: #ffebee; color: #c62828; }
        .notification-icon.success { background: #e8f5e9; color: #2e7d32; }

        .notification-content {
            flex: 1;
        }

        .notification-title {
            font-weight: 600;
            margin-bottom: 3px;
            color: #333;
            font-size: 13px;
        }

        .notification-desc {
            font-size: 12px;
            color: #666;
            margin-bottom: 3px;
        }

        .notification-time {
            font-size: 10px;
            color: #999;
        }

        /* Forms */
        .form-group {
            margin-bottom: 16px;
        }

        .form-label {
            display: block;
            font-weight: 600;
            margin-bottom: 6px;
            color: #333;
            font-size: 13px;
        }

        .form-input, .form-select {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #ced4da;
            border-radius: 6px;
            font-size: 13px;
            transition: border-color 0.2s;
        }

        .form-input:focus, .form-select:focus {
            outline: none;
            border-color: #4facfe;
            box-shadow: 0 0 0 3px rgba(79, 172, 254, 0.1);
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(3px);
        }

        .modal.active {
            display: flex;
            animation: fadeIn 0.3s;
        }

        .modal-content {
            background: white;
            border-radius: 12px;
            padding: 24px;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            animation: slideUp 0.3s;
        }

        @keyframes slideUp {
            from { transform: translateY(30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .modal-header {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 16px;
            color: #2c3e50;
        }

        .modal-footer {
            display: flex;
            gap: 8px;
            justify-content: flex-end;
            margin-top: 16px;
        }

        /* AI Assistant Styles */
        .ai-container {
            display: flex;
            flex-direction: column;
            height: 600px;
            gap: 12px;
        }

        .ai-header {
            background: linear-gradient(135deg, #f093fb, #f5576c);
            color: white;
            padding: 16px;
            border-radius: 10px;
            text-align: center;
        }

        .ai-header h2 {
            font-size: 20px;
            margin-bottom: 4px;
        }

        .ai-header p {
            font-size: 12px;
            opacity: 0.9;
        }

        .common-questions {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 12px;
        }

        .common-questions-title {
            font-weight: 600;
            margin-bottom: 8px;
            color: #2c3e50;
            font-size: 13px;
        }

        .question-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
        }

        .question-btn {
            padding: 6px 12px;
            background: white;
            border: 1px solid #4facfe;
            border-radius: 16px;
            cursor: pointer;
            font-size: 12px;
            color: #4facfe;
            transition: all 0.2s;
            white-space: nowrap;
        }

        .question-btn:hover {
            background: #4facfe;
            color: white;
            transform: translateY(-1px);
        }

        .chat-area {
            flex: 1;
            background: white;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 12px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 10px;
            min-height: 250px;
        }

        .message {
            padding: 10px 14px;
            border-radius: 10px;
            max-width: 80%;
            word-wrap: break-word;
            animation: messageSlide 0.3s;
            font-size: 13px;
            line-height: 1.4;
        }

        @keyframes messageSlide {
            from { opacity: 0; transform: translateY(8px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .message.user {
            background: linear-gradient(135deg, #4facfe, #00f2fe);
            color: white;
            align-self: flex-end;
            border-bottom-right-radius: 4px;
        }

        .message.ai {
            background: #f8f9fa;
            color: #333;
            align-self: flex-start;
            border-bottom-left-radius: 4px;
        }

        .message-time {
            font-size: 9px;
            opacity: 0.7;
            margin-top: 3px;
            text-align: right;
        }

        .input-area {
            display: flex;
            gap: 8px;
            align-items: flex-end;
        }

        .chat-input {
            flex: 1;
            padding: 10px 12px;
            border: 1px solid #ced4da;
            border-radius: 6px;
            font-size: 13px;
            resize: none;
            min-height: 40px;
            max-height: 100px;
            font-family: inherit;
            transition: border-color 0.2s;
        }

        .chat-input:focus {
            outline: none;
            border-color: #f093fb;
            box-shadow: 0 0 0 3px rgba(240, 147, 251, 0.1);
        }

        .send-btn {
            padding: 10px 18px;
            background: linear-gradient(135deg, #f093fb, #f5576c);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            font-size: 13px;
            transition: all 0.2s;
            white-space: nowrap;
        }

        .send-btn:hover:not(:disabled) {
            transform: translateY(-1px);
            box-shadow: 0 4px 10px rgba(240, 147, 251, 0.4);
        }

        .send-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .empty-state {
            text-align: center;
            color: #999;
            padding: 40px 20px;
            font-size: 13px;
            line-height: 1.6;
        }

        .typing-indicator {
            display: inline-flex;
            gap: 4px;
            align-items: center;
        }

        .typing-dot {
            width: 5px;
            height: 5px;
            background: #999;
            border-radius: 50%;
            animation: typing 1.4s infinite;
        }

        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }

        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); opacity: 0.5; }
            30% { transform: translateY(-6px); opacity: 1; }
        }

        /* Status Light Indicator - Bottom Right Corner - ONLY on Overview */
        .status-light-corner {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: white;
            border-radius: 12px;
            padding: 12px 16px;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
            z-index: 999;
            border: 1px solid #e9ecef;
            display: none; /* Hidden by default */
        }

        .status-light-corner.visible {
            display: block; /* Only visible on overview */
        }

        .status-light-title {
            font-size: 11px;
            color: #666;
            margin-bottom: 6px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .traffic-light {
            display: flex;
            gap: 6px;
            align-items: center;
        }

        .light {
            width: 14px;
            height: 14px;
            border-radius: 50%;
            background: #ddd;
            opacity: 0.3;
            transition: all 0.3s;
            border: 1px solid #bbb;
        }

        .light.active {
            opacity: 1;
            box-shadow: 0 0 8px currentColor;
        }

        .light.red { background: #f44336; }
        .light.yellow { background: #ffc107; }
        .light.green { background: #4caf50; }

        .status-light-text {
            font-size: 10px;
            color: #666;
            margin-left: 8px;
            font-weight: 500;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .sidebar {
                width: 60px;
            }

            .sidebar-header h1 {
                font-size: 0;
            }

            .sidebar-header h1::before {
                font-size: 24px;
            }

            .user-mini {
                display: none;
            }

            .nav-btn span {
                display: none;
            }

            .nav-btn {
                justify-content: center;
                padding: 12px;
            }

            .content-wrapper {
                margin-left: 60px;
            }

            .content-header {
                flex-direction: column;
                gap: 10px;
                align-items: flex-start;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .dashboard-grid {
                grid-template-columns: 1fr;
            }

            .status-light-corner {
                bottom: 10px;
                right: 10px;
                padding: 8px 12px;
            }

            .status-light-text {
                display: none;
            }
        }

        /* Checkbox styling */
        input[type="checkbox"] {
            width: 16px;
            height: 16px;
            cursor: pointer;
        }

        /* List styling */
        ul {
            margin-left: 18px;
            line-height: 1.6;
        }

        li {
            margin-bottom: 4px;
        }

        strong {
            color: #2c3e50;
        }
    </style>
</head>
<body>
    <!-- Main Layout -->
    <div class="main-layout">
        <!-- Left Sidebar Navigation -->
        <div class="sidebar">
            <div class="sidebar-header">
                <h1>æœˆç»“é©¾é©¶èˆ±</h1>
                <div class="user-mini">
                    <div class="user-mini-avatar">F</div>
                    <div>è´¢åŠ¡ä¸“å‘˜</div>
                </div>
            </div>

            <ul class="nav-menu">
                <li class="nav-item">
                    <button class="nav-btn active" onclick="switchTab('overview')">
                        <span>ğŸ“Š</span><span>æ€»è§ˆ</span>
                    </button>
                </li>
                <li class="nav-item">
                    <button class="nav-btn" onclick="switchTab('progress')">
                        <span>ğŸ“ˆ</span><span>æœˆç»“è¿›åº¦</span>
                    </button>
                </li>
                <li class="nav-item">
                    <button class="nav-btn" onclick="switchTab('tasks')">
                        <span>ğŸ“‹</span><span>ä»»åŠ¡ç®¡ç†</span>
                    </button>
                </li>
                <li class="nav-item">
                    <button class="nav-btn" onclick="switchTab('monitor')">
                        <span>ğŸ”</span><span>ç›‘æ§ä¸­å¿ƒ</span>
                    </button>
                </li>
                <li class="nav-item">
                    <button class="nav-btn" onclick="switchTab('parameters')">
                        <span>âš™ï¸</span><span>å‚æ•°è®¾ç½®</span>
                    </button>
                </li>
                <li class="nav-item">
                    <button class="nav-btn" onclick="switchTab('notifications')">
                        <span>ğŸ””</span><span>é€šçŸ¥ä¸­å¿ƒ</span>
                    </button>
                </li>
                <li class="nav-item">
                    <button class="nav-btn" onclick="switchTab('analytics')">
                        <span>ğŸ“Š</span><span>ç»©æ•ˆåˆ†æ</span>
                    </button>
                </li>
                <li class="nav-item">
                    <button class="nav-btn ai-btn" onclick="switchTab('aiassistant')">
                        <span>ğŸ¤–</span><span>AIåŠ©æ‰‹</span>
                    </button>
                </li>
            </ul>
        </div>

        <!-- Main Content Area -->
        <div class="content-wrapper">
            <!-- Header -->
            <div class="content-header">
                <h2 id="pageTitle">æœˆç»“æ€»è§ˆ</h2>
                <div class="header-info">
                    <span class="info-badge">2026å¹´1æœˆ</span>
                    <span class="info-badge">è¿›åº¦: 68%</span>
                </div>
            </div>

            <!-- Content Area -->
            <div class="content-area">
                <!-- Overview Tab -->
                <div id="overview" class="tab-content active">
                    <div class="alert alert-info">
                        <span>ğŸ’¡</span>
                        <div>
                            <strong>å½“å‰çŠ¶æ€ï¼š</strong>2026å¹´1æœˆæœˆç»“è¿›è¡Œä¸­ï¼Œé¢„è®¡å®Œæˆæ—¶é—´ï¼š1æœˆ7æ—¥ 18:00
                        </div>
                    </div>

                    <div class="dashboard-grid">
                        <div class="stat-card">
                            <h3>æ€»ä½“è¿›åº¦</h3>
                            <div class="value">68%</div>
                            <div class="trend">â†‘ è¾ƒä¸Šæœˆæå‡12%</div>
                        </div>
                        <div class="stat-card success">
                            <h3>å·²å®Œæˆä»»åŠ¡</h3>
                            <div class="value">34</div>
                            <div class="trend">/ 50 æ€»ä»»åŠ¡</div>
                        </div>
                        <div class="stat-card warning">
                            <h3>è¿›è¡Œä¸­</h3>
                            <div class="value">8</div>
                            <div class="trend">éœ€å…³æ³¨</div>
                        </div>
                        <div class="stat-card info">
                            <h3>å¼‚å¸¸é¢„è­¦</h3>
                            <div class="value">2</div>
                            <div class="trend">å¾…å¤„ç†</div>
                        </div>
                    </div>

                    <div class="section-title">æœ€è¿‘åŠ¨æ€</div>
                    <div class="timeline">
                        <div class="timeline-item completed">
                            <div class="timeline-title">è´¹ç”¨æŠ¥è´¦å®Œæˆæ£€æŸ¥</div>
                            <div class="timeline-time">2026-01-05 09:30 - å·²å®Œæˆ</div>
                        </div>
                        <div class="timeline-item completed">
                            <div class="timeline-title">è´¦æœŸå¼€å¯ç¡®è®¤</div>
                            <div class="timeline-time">2026-01-05 10:15 - å·²å®Œæˆ</div>
                        </div>
                        <div class="timeline-item current">
                            <div class="timeline-title">ç»“è½¬ç”Ÿäº§æˆæœ¬</div>
                            <div class="timeline-time">2026-01-05 14:20 - è¿›è¡Œä¸­</div>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-title">ä¿®ç†è´¹è°ƒæ•´è‡³ç®¡ç†è´¹ç”¨</div>
                            <div class="timeline-time">å¾…æ‰§è¡Œ - é¢„è®¡ 16:00</div>
                        </div>
                    </div>
                </div>

                <!-- Progress Tab -->
                <div id="progress" class="tab-content">
                    <div class="section-title">æœˆç»“ä»»åŠ¡è¿›åº¦è¯¦æƒ…</div>

                    <div class="action-buttons">
                        <button class="btn btn-primary" onclick="startBatchExecution()">
                            â–¶ï¸ æ‰¹é‡æ‰§è¡Œ
                        </button>
                        <button class="btn btn-success" onclick="simulateMonthEnd()">
                            ğŸ¯ æœˆç»“æ¨¡æ‹Ÿ
                        </button>
                        <button class="btn btn-warning" onclick="showAlertCheck()">
                            ğŸ” æ—¥æ¸…æ£€æŸ¥
                        </button>
                        <button class="btn btn-secondary" onclick="resetProcess()">
                            ğŸ”„ é‡ç½®æµç¨‹
                        </button>
                    </div>

                    <div class="progress-item completed">
                        <div class="progress-header">
                            <span class="progress-title">1. è´¹ç”¨æŠ¥è´¦å®Œæˆæ£€æŸ¥</span>
                            <span class="progress-status status-completed">å·²å®Œæˆ</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 100%"></div>
                        </div>
                        <div class="progress-info">
                            <span>å…¬å¸ä»£ç : 1110</span>
                            <span>è€—æ—¶: 2åˆ†é’Ÿ</span>
                        </div>
                    </div>

                    <div class="progress-item completed">
                        <div class="progress-header">
                            <span class="progress-title">2. è´¦æœŸå¼€å¯ç¡®è®¤</span>
                            <span class="progress-status status-completed">å·²å®Œæˆ</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 100%"></div>
                        </div>
                        <div class="progress-info">
                            <span>å…¬å¸ä»£ç : 1110</span>
                            <span>è€—æ—¶: 1åˆ†é’Ÿ</span>
                        </div>
                    </div>

                    <div class="progress-item warning">
                        <div class="progress-header">
                            <span class="progress-title">3. ç»“è½¬ç”Ÿäº§æˆæœ¬</span>
                            <span class="progress-status status-running">è¿›è¡Œä¸­</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 65%"></div>
                        </div>
                        <div class="progress-info">
                            <span>å·¥å‚: 5802, 5803, 5809, 5815</span>
                            <span>è¿›åº¦: 4/6 å·¥å‚</span>
                        </div>
                    </div>

                    <div class="progress-item">
                        <div class="progress-header">
                            <span class="progress-title">4. ä¿®ç†è´¹è°ƒæ•´è‡³ç®¡ç†è´¹ç”¨</span>
                            <span class="progress-status status-pending">å¾…æ‰§è¡Œ</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 0%"></div>
                        </div>
                        <div class="progress-info">
                            <span>é¢„è®¡æ—¶é—´: 16:00</span>
                            <span>å‰ç½®ä»»åŠ¡: ç»“è½¬ç”Ÿäº§æˆæœ¬</span>
                        </div>
                    </div>

                    <div class="progress-item error">
                        <div class="progress-header">
                            <span class="progress-title">5. æ£€æŸ¥ç®¡ç†åˆ¶é€ ç±»æˆæœ¬ä¸­å¿ƒè´¹ç”¨</span>
                            <span class="progress-status status-error">å¼‚å¸¸</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill error" style="width: 30%"></div>
                        </div>
                        <div class="progress-info">
                            <span>é”™è¯¯: æˆæœ¬ä¸­å¿ƒ 5802 è´¹ç”¨ä¸ä¸º0</span>
                            <span style="color: #f44336; font-weight: 600;">éœ€äººå·¥å¹²é¢„</span>
                        </div>
                    </div>
                </div>

                <!-- Tasks Tab -->
                <div id="tasks" class="tab-content">
                    <div class="section-title">ä»»åŠ¡ç®¡ç†æ¸…å•</div>

                    <div class="action-buttons">
                        <button class="btn btn-primary" onclick="showAddTaskModal()">â• æ–°å¢ä»»åŠ¡</button>
                        <button class="btn btn-success" onclick="exportTaskList()">ğŸ“¥ å¯¼å‡ºæ¸…å•</button>
                        <button class="btn btn-secondary" onclick="showTaskTemplateModal()">ğŸ“„ ä»»åŠ¡æ¨¡æ¿</button>
                    </div>

                    <div class="alert alert-info">
                        <span>â„¹ï¸</span>
                        <div>å…±ç®¡ç† <strong>50</strong> ä¸ªæœˆç»“ä»»åŠ¡é¡¹ï¼Œå…¶ä¸­ <strong>34</strong> ä¸ªè‡ªåŠ¨æ‰§è¡Œï¼Œ<strong>16</strong> ä¸ªéœ€äººå·¥ç¡®è®¤</div>
                    </div>

                    <table class="task-table">
                        <thead>
                            <tr>
                                <th>é¡ºåº</th>
                                <th>å…¬å¸</th>
                                <th>å·¥å‚</th>
                                <th>æ¨¡å—</th>
                                <th>ä»»åŠ¡è¯´æ˜</th>
                                <th>ç±»å‹</th>
                                <th>çŠ¶æ€</th>
                                <th>æ“ä½œ</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>1</td>
                                <td>1110</td>
                                <td>5802</td>
                                <td>CO</td>
                                <td>ç»“è½¬ç”Ÿäº§æˆæœ¬</td>
                                <td><span class="status-badge badge-auto">è‡ªåŠ¨æ‰§è¡Œ</span></td>
                                <td>âœ… å·²å®Œæˆ</td>
                                <td><button class="btn btn-secondary" style="padding: 4px 8px; font-size: 11px;" onclick="viewTaskDetail(1)">æŸ¥çœ‹</button></td>
                            </tr>
                            <tr>
                                <td>2</td>
                                <td>1110</td>
                                <td>5803</td>
                                <td>CO</td>
                                <td>ç»“è½¬ç”Ÿäº§æˆæœ¬</td>
                                <td><span class="status-badge badge-auto">è‡ªåŠ¨æ‰§è¡Œ</span></td>
                                <td>âœ… å·²å®Œæˆ</td>
                                <td><button class="btn btn-secondary" style="padding: 4px 8px; font-size: 11px;" onclick="viewTaskDetail(2)">æŸ¥çœ‹</button></td>
                            </tr>
                            <tr>
                                <td>3</td>
                                <td>1110</td>
                                <td>5809</td>
                                <td>CO</td>
                                <td>ç»“è½¬ç”Ÿäº§æˆæœ¬</td>
                                <td><span class="status-badge badge-auto">è‡ªåŠ¨æ‰§è¡Œ</span></td>
                                <td>â³ è¿›è¡Œä¸­</td>
                                <td><button class="btn btn-secondary" style="padding: 4px 8px; font-size: 11px;" onclick="viewTaskDetail(3)">æŸ¥çœ‹</button></td>
                            </tr>
                            <tr>
                                <td>4</td>
                                <td>1110</td>
                                <td>5815</td>
                                <td>CO</td>
                                <td>ç»“è½¬ç”Ÿäº§æˆæœ¬</td>
                                <td><span class="status-badge badge-auto">è‡ªåŠ¨æ‰§è¡Œ</span></td>
                                <td>â³ è¿›è¡Œä¸­</td>
                                <td><button class="btn btn-secondary" style="padding: 4px 8px; font-size: 11px;" onclick="viewTaskDetail(4)">æŸ¥çœ‹</button></td>
                            </tr>
                            <tr>
                                <td>5</td>
                                <td>1110</td>
                                <td>5815</td>
                                <td>CO</td>
                                <td>ä¿®ç†è´¹è°ƒæ•´è‡³ç®¡ç†è´¹ç”¨ï¼ˆæœˆç»“å‰ï¼‰</td>
                                <td><span class="status-badge badge-auto">è‡ªåŠ¨æ‰§è¡Œ</span></td>
                                <td>â³ å¾…æ‰§è¡Œ</td>
                                <td><button class="btn btn-secondary" style="padding: 4px 8px; font-size: 11px;" onclick="viewTaskDetail(5)">æŸ¥çœ‹</button></td>
                            </tr>
                            <tr>
                                <td>6</td>
                                <td>1110</td>
                                <td>5809</td>
                                <td>CO</td>
                                <td>ä¿®ç†è´¹è°ƒæ•´è‡³ç®¡ç†è´¹ç”¨ï¼ˆæœˆç»“å‰ï¼‰</td>
                                <td><span class="status-badge badge-auto">è‡ªåŠ¨æ‰§è¡Œ</span></td>
                                <td>â³ å¾…æ‰§è¡Œ</td>
                                <td><button class="btn btn-secondary" style="padding: 4px 8px; font-size: 11px;" onclick="viewTaskDetail(6)">æŸ¥çœ‹</button></td>
                            </tr>
                            <tr>
                                <td>7</td>
                                <td>1110</td>
                                <td>5803</td>
                                <td>CO</td>
                                <td>ä¿®ç†è´¹è°ƒæ•´è‡³ç®¡ç†è´¹ç”¨ï¼ˆæœˆç»“å‰ï¼‰</td>
                                <td><span class="status-badge badge-auto">è‡ªåŠ¨æ‰§è¡Œ</span></td>
                                <td>â³ å¾…æ‰§è¡Œ</td>
                                <td><button class="btn btn-secondary" style="padding: 4px 8px; font-size: 11px;" onclick="viewTaskDetail(7)">æŸ¥çœ‹</button></td>
                            </tr>
                            <tr>
                                <td>8</td>
                                <td>1110</td>
                                <td>5802</td>
                                <td>CO</td>
                                <td>ä¿®ç†è´¹è°ƒæ•´è‡³ç®¡ç†è´¹ç”¨ï¼ˆæœˆç»“å‰ï¼‰</td>
                                <td><span class="status-badge badge-auto">è‡ªåŠ¨æ‰§è¡Œ</span></td>
                                <td>â³ å¾…æ‰§è¡Œ</td>
                                <td><button class="btn btn-secondary" style="padding: 4px 8px; font-size: 11px;" onclick="viewTaskDetail(8)">æŸ¥çœ‹</button></td>
                            </tr>
                            <tr>
                                <td>9</td>
                                <td>1110</td>
                                <td>-</td>
                                <td>CO</td>
                                <td>åˆ†æ‘Šå¾ªç¯-é—´æ¥äººå·¥</td>
                                <td><span class="status-badge badge-auto">è‡ªåŠ¨æ‰§è¡Œ</span></td>
                                <td>â³ å¾…æ‰§è¡Œ</td>
                                <td><button class="btn btn-secondary" style="padding: 4px 8px; font-size: 11px;" onclick="viewTaskDetail(9)">æŸ¥çœ‹</button></td>
                            </tr>
                            <tr>
                                <td>10</td>
                                <td>1110</td>
                                <td>-</td>
                                <td>CO</td>
                                <td>åˆ†é…å¾ªç¯-æŠ˜æ—§é—´æ¥åˆ°é—´æ¥</td>
                                <td><span class="status-badge badge-auto">è‡ªåŠ¨æ‰§è¡Œ</span></td>
                                <td>â³ å¾…æ‰§è¡Œ</td>
                                <td><button class="btn btn-secondary" style="padding: 4px 8px; font-size: 11px;" onclick="viewTaskDetail(10)">æŸ¥çœ‹</button></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Monitor Tab -->
                <div id="monitor" class="tab-content">
                    <div class="section-title">ç›‘æ§ä¸­å¿ƒ</div>

                    <div class="alert alert-warning">
                        <span>âš ï¸</span>
                        <div>
                            <strong>ç³»ç»Ÿé¢„è­¦ï¼š</strong>æ£€æµ‹åˆ° 2 ä¸ªå¼‚å¸¸ä»»åŠ¡ï¼Œå·²é€šçŸ¥ç›¸å…³è´£ä»»äºº
                        </div>
                    </div>

                    <div class="kpi-grid">
                        <div class="kpi-card">
                            <div class="kpi-label">ä»»åŠ¡æ‰§è¡ŒæˆåŠŸç‡</div>
                            <div class="kpi-value">94<span class="kpi-unit">%</span></div>
                        </div>
                        <div class="kpi-card">
                            <div class="kpi-label">å¹³å‡ä»»åŠ¡è€—æ—¶</div>
                            <div class="kpi-value">3.2<span class="kpi-unit">åˆ†é’Ÿ</span></div>
                        </div>
                        <div class="kpi-card">
                            <div class="kpi-label">äººå·¥å¹²é¢„æ¬¡æ•°</div>
                            <div class="kpi-value">5<span class="kpi-unit">æ¬¡</span></div>
                        </div>
                        <div class="kpi-card">
                            <div class="kpi-label">ç³»ç»Ÿå¥åº·åº¦</div>
                            <div class="kpi-value">98<span class="kpi-unit">%</span></div>
                        </div>
                    </div>

                    <div class="section-title">å®æ—¶è¿›åº¦ç›‘æ§</div>
                    <div class="chart-container">
                        <div class="chart-bars">
                            <div class="chart-bar" style="height: 100%" data-value="100%">
                                <span class="chart-bar-label">è´¹ç”¨æ£€æŸ¥</span>
                            </div>
                            <div class="chart-bar" style="height: 100%" data-value="100%">
                                <span class="chart-bar-label">è´¦æœŸå¼€å¯</span>
                            </div>
                            <div class="chart-bar" style="height: 65%" data-value="65%">
                                <span class="chart-bar-label">è´¨é‡æˆæœ¬</span>
                            </div>
                            <div class="chart-bar" style="height: 0%" data-value="0%">
                                <span class="chart-bar-label">ä¿®ç†è´¹</span>
                            </div>
                            <div class="chart-bar" style="height: 0%" data-value="0%">
                                <span class="chart-bar-label">åˆ†æ‘Šå¾ªç¯</span>
                            </div>
                            <div class="chart-bar" style="height: 30%; background: #f44336;" data-value="å¼‚å¸¸">
                                <span class="chart-bar-label">æˆæœ¬æ£€æŸ¥</span>
                            </div>
                        </div>
                    </div>

                    <div class="section-title">ç³»ç»Ÿè¿è¡ŒçŠ¶æ€</div>
                    <div class="progress-item completed">
                        <div class="progress-header">
                            <span class="progress-title">SAP ç³»ç»Ÿè¿æ¥</span>
                            <span class="progress-status status-completed">æ­£å¸¸</span>
                        </div>
                        <div class="progress-info">
                            <span>å“åº”æ—¶é—´: 45ms</span>
                            <span>æœ€ååŒæ­¥: 14:25:33</span>
                        </div>
                    </div>
                    <div class="progress-item completed">
                        <div class="progress-header">
                            <span class="progress-title">BW æ•°æ®ä»“åº“</span>
                            <span class="progress-status status-completed">æ­£å¸¸</span>
                        </div>
                        <div class="progress-info">
                            <span>æ•°æ®å»¶è¿Ÿ: < 1åˆ†é’Ÿ</span>
                            <span>æœ€ååŒæ­¥: 14:24:18</span>
                        </div>
                    </div>
                    <div class="progress-item warning">
                        <div class="progress-header">
                            <span class="progress-title">RPA æœºå™¨äººæœåŠ¡</span>
                            <span class="progress-status status-running">è¿è¡Œä¸­</span>
                        </div>
                        <div class="progress-info">
                            <span>æ´»è·ƒæœºå™¨äºº: 3/5</span>
                            <span>é˜Ÿåˆ—ä»»åŠ¡: 2</span>
                        </div>
                    </div>
                    <div class="progress-item completed">
                        <div class="progress-header">
                            <span class="progress-title">é€šçŸ¥æœåŠ¡</span>
                            <span class="progress-status status-completed">æ­£å¸¸</span>
                        </div>
                        <div class="progress-info">
                            <span>é£ä¹¦æ¨é€: å¯ç”¨</span>
                            <span>é‚®ä»¶æ¨é€: å¯ç”¨</span>
                        </div>
                    </div>
                </div>

                <!-- Parameters Tab -->
                <div id="parameters" class="tab-content">
                    <div class="section-title">æœˆç»“å‚æ•°è®¾ç½®</div>

                    <div class="alert alert-info">
                        <span>â„¹ï¸</span>
                        <div>å‚æ•°è®¾ç½®æ”¯æŒåŠ¨æ€è°ƒæ•´ï¼Œä¿®æ”¹åå³æ—¶ç”Ÿæ•ˆã€‚å»ºè®®åœ¨æœˆç»“å¼€å§‹å‰å®Œæˆæ‰€æœ‰å‚æ•°é…ç½®ã€‚</div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">æœˆç»“ç»„ç»‡</label>
                        <select class="form-select" id="orgSelect">
                            <option value="1110">1110 - ç”µå­äº‹ä¸šéƒ¨</option>
                            <option value="1120">1120 - æ™ºèƒ½ç¡¬ä»¶éƒ¨</option>
                            <option value="1130">1130 - äº’è”ç½‘æœåŠ¡éƒ¨</option>
                        </select>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">ä»»åŠ¡ä¼˜å…ˆçº§</label>
                            <select class="form-select" id="prioritySelect">
                                <option value="high">é«˜ - ç´§æ€¥æœˆç»“</option>
                                <option value="medium" selected>ä¸­ - æ ‡å‡†æœˆç»“</option>
                                <option value="low">ä½ - é¢„æœˆç»“</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">è‡ªåŠ¨æ£€æŸ¥æ—¶é—´</label>
                            <input type="time" class="form-input" value="02:00" id="checkTime">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">å…³è´¦ç®¡ç†</label>
                            <select class="form-select" id="closeSelect">
                                <option value="auto">è‡ªåŠ¨å…³è´¦</option>
                                <option value="manual">æ‰‹åŠ¨ç¡®è®¤</option>
                                <option value="stage">åˆ†é˜¶æ®µå…³è´¦</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">æƒé™æ§åˆ¶</label>
                            <select class="form-select" id="authSelect">
                                <option value="strict">å¼ºæ§ - éœ€å®¡æ‰¹</option>
                                <option value="normal" selected>æ ‡å‡† - ä»…è®°å½•</option>
                                <option value="loose">å®½æ¾ - ä»…é€šçŸ¥</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">å¼‚å¸¸é˜ˆå€¼è®¾ç½®</label>
                        <div class="form-row">
                            <div>
                                <input type="number" class="form-input" placeholder="ä»»åŠ¡è¶…æ—¶(åˆ†é’Ÿ)" value="30">
                            </div>
                            <div>
                                <input type="number" class="form-input" placeholder="æ•°æ®å·®å¼‚é˜ˆå€¼(%)" value="5">
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">é€šçŸ¥æ–¹å¼</label>
                        <div style="display: flex; gap: 15px; margin-top: 8px;">
                            <label style="display: flex; align-items: center; gap: 5px;">
                                <input type="checkbox" checked> é£ä¹¦æ¶ˆæ¯
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px;">
                                <input type="checkbox" checked> é‚®ä»¶
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px;">
                                <input type="checkbox"> çŸ­ä¿¡
                            </label>
                        </div>
                    </div>

                    <div class="action-buttons">
                        <button class="btn btn-primary" onclick="saveParameters()">ğŸ’¾ ä¿å­˜è®¾ç½®</button>
                        <button class="btn btn-success" onclick="applyParameters()">âœ… åº”ç”¨é…ç½®</button>
                        <button class="btn btn-secondary" onclick="resetParameters()">ğŸ”„ é‡ç½®é»˜è®¤</button>
                    </div>

                    <div class="section-title">é«˜çº§è®¾ç½®</div>
                    <div class="progress-item">
                        <div class="progress-header">
                            <span class="progress-title">RPA æœºå™¨äººé…ç½®</span>
                            <span class="progress-status status-pending">æœªé…ç½®</span>
                        </div>
                        <div class="progress-info">
                            <span>é…ç½®è‡ªåŠ¨åŒ–è„šæœ¬æ‰§è¡Œå‚æ•°</span>
                            <button class="btn btn-secondary" style="padding: 4px 8px; font-size: 11px;" onclick="showRPAModal()">é…ç½®</button>
                        </div>
                    </div>
                    <div class="progress-item">
                        <div class="progress-header">
                            <span class="progress-title">å·¥ä½œæµå¼•æ“è®¾ç½®</span>
                            <span class="progress-status status-completed">å·²å¯ç”¨</span>
                        </div>
                        <div class="progress-info">
                            <span>Apache Airflow é›†æˆ</span>
                            <button class="btn btn-secondary" style="padding: 4px 8px; font-size: 11px;" onclick="showWorkflowModal()">æŸ¥çœ‹</button>
                        </div>
                    </div>
                    <div class="progress-item">
                        <div class="progress-header">
                            <span class="progress-title">ä¸»æ•°æ®åŒæ­¥</span>
                            <span class="progress-status status-completed">å·²å¯ç”¨</span>
                        </div>
                        <div class="progress-info">
                            <span>è‡ªåŠ¨åŒæ­¥æ±‡ç‡ã€ä¾›åº”å•†ç­‰æ•°æ®</span>
                            <button class="btn btn-secondary" style="padding: 4px 8px; font-size: 11px;" onclick="showMDMModal()">ç®¡ç†</button>
                        </div>
                    </div>
                </div>

                <!-- Notifications Tab -->
                <div id="notifications" class="tab-content">
                    <div class="section-title">é€šçŸ¥ä¸­å¿ƒ</div>

                    <div class="action-buttons">
                        <button class="btn btn-primary" onclick="markAllRead()">âœ… å…¨éƒ¨å·²è¯»</button>
                        <button class="btn btn-secondary" onclick="clearNotifications()">ğŸ—‘ï¸ æ¸…ç©ºé€šçŸ¥</button>
                        <button class="btn btn-success" onclick="exportNotifications()">ğŸ“¥ å¯¼å‡ºè®°å½•</button>
                    </div>

                    <div class="notification-item">
                        <div class="notification-icon error">âš ï¸</div>
                        <div class="notification-content">
                            <div class="notification-title">å¼‚å¸¸é¢„è­¦ - æˆæœ¬ä¸­å¿ƒè´¹ç”¨æ£€æŸ¥å¤±è´¥</div>
                            <div class="notification-desc">ä»»åŠ¡ä»£ç  2280ï¼šæˆæœ¬ä¸­å¿ƒ 5802 è´¹ç”¨ä¸ä¸º0ï¼Œéœ€è¦äººå·¥å¹²é¢„å¤„ç†</div>
                            <div class="notification-time">14:20:35 - 2026-01-05</div>
                        </div>
                    </div>

                    <div class="notification-item">
                        <div class="notification-icon warning">âš¡</div>
                        <div class="notification-content">
                            <div class="notification-title">ä»»åŠ¡æ‰§è¡Œæé†’ - ä¿®ç†è´¹è°ƒæ•´å³å°†å¼€å§‹</div>
                            <div class="notification-desc">å‰ç½®ä»»åŠ¡å·²å®Œæˆï¼Œä»»åŠ¡ 2160 å°†åœ¨ 5 åˆ†é’Ÿåè‡ªåŠ¨æ‰§è¡Œ</div>
                            <div class="notification-time">14:15:22 - 2026-01-05</div>
                        </div>
                    </div>

                    <div class="notification-item">
                        <div class="notification-icon success">âœ…</div>
                        <div class="notification-content">
                            <div class="notification-title">ä»»åŠ¡å®Œæˆ - è´¦æœŸå¼€å¯ç¡®è®¤</div>
                            <div class="notification-desc">æ‰€æœ‰å…¬å¸ä¸»ä½“è´¦æœŸå·²æˆåŠŸå¼€å¯ï¼Œå¯ä»¥å¼€å§‹æœˆç»“æµç¨‹</div>
                            <div class="notification-time">10:16:08 - 2026-01-05</div>
                        </div>
                    </div>

                    <div class="notification-item">
                        <div class="notification-icon info">ğŸ“Š</div>
                        <div class="notification-content">
                            <div class="notification-title">æœˆç»“å¯åŠ¨ - 2026å¹´1æœˆæœˆç»“å·²å¼€å§‹</div>
                            <div class="notification-desc">å…± 50 ä¸ªä»»åŠ¡é¡¹ï¼Œæ¶‰åŠ 4 ä¸ªå·¥å‚ï¼Œé¢„è®¡å®Œæˆæ—¶é—´ 18:00</div>
                            <div class="notification-time">09:30:15 - 2026-01-05</div>
                        </div>
                    </div>

                    <div class="notification-item">
                        <div class="notification-icon info">ğŸ””</div>
                        <div class="notification-content">
                            <div class="notification-title">è®¡åˆ’é€šçŸ¥ - ä»Šæ—¥æœˆç»“ä»»åŠ¡å®‰æ’</div>
                            <div class="notification-desc">ä»Šæ—¥è®¡åˆ’æ‰§è¡Œ 15 ä¸ªæœˆç»“ä»»åŠ¡ï¼Œå»ºè®®åœ¨ 14:00 å‰å®Œæˆè´¹ç”¨æŠ¥è´¦æ£€æŸ¥</div>
                            <div class="notification-time">08:00:00 - 2026-01-05</div>
                        </div>
                    </div>
                </div>

                <!-- Analytics Tab -->
                <div id="analytics" class="tab-content">
                    <div class="section-title">ç»©æ•ˆåˆ†æ</div>

                    <div class="alert alert-success">
                        <span>ğŸ“ˆ</span>
                        <div>
                            <strong>æœˆç»“æ•ˆç‡æå‡ï¼š</strong>ç›¸æ¯”ä¸Šæœˆï¼Œå¹³å‡è€—æ—¶å‡å°‘ <strong>18%</strong>ï¼Œäººå·¥å¹²é¢„å‡å°‘ <strong>35%</strong>
                        </div>
                    </div>

                    <div class="section-title">å…³é”®æŒ‡æ ‡</div>
                    <div class="kpi-grid">
                        <div class="kpi-card">
                            <div class="kpi-label">æœˆç»“å®Œæˆç‡</div>
                            <div class="kpi-value">96<span class="kpi-unit">%</span></div>
                        </div>
                        <div class="kpi-card">
                            <div class="kpi-label">å¹³å‡è€—æ—¶</div>
                            <div class="kpi-value">4.5<span class="kpi-unit">å¤©</span></div>
                        </div>
                        <div class="kpi-card">
                            <div class="kpi-label">å¼‚å¸¸ç‡</div>
                            <div class="kpi-value">4<span class="kpi-unit">%</span></div>
                        </div>
                        <div class="kpi-card">
                            <div class="kpi-label">è‡ªåŠ¨åŒ–ç‡</div>
                            <div class="kpi-value">68<span class="kpi-unit">%</span></div>
                        </div>
                    </div>

                    <div class="section-title">è¶‹åŠ¿åˆ†æ</div>
                    <div class="chart-container">
                        <div class="chart-bars">
                            <div class="chart-bar" style="height: 45%; background: #6c757d;" data-value="4.5å¤©">
                                <span class="chart-bar-label">10æœˆ</span>
                            </div>
                            <div class="chart-bar" style="height: 38%; background: #6c757d;" data-value="3.8å¤©">
                                <span class="chart-bar-label">11æœˆ</span>
                            </div>
                            <div class="chart-bar" style="height: 32%; background: #4facfe;" data-value="3.2å¤©">
                                <span class="chart-bar-label">12æœˆ</span>
                            </div>
                            <div class="chart-bar" style="height: 28%; background: #11998e;" data-value="2.8å¤©">
                                <span class="chart-bar-label">1æœˆ</span>
                            </div>
                        </div>
                    </div>

                    <div class="section-title">ä»»åŠ¡æ‰§è¡Œæ˜ç»†</div>
                    <div class="progress-item completed">
                        <div class="progress-header">
                            <span class="progress-title">è‡ªåŠ¨æ‰§è¡Œä»»åŠ¡</span>
                            <span class="progress-status status-completed">34/34 æˆåŠŸ</span>
                        </div>
                        <div class="progress-info">
                            <span>æˆåŠŸç‡: 100%</span>
                            <span>å¹³å‡è€—æ—¶: 2.1åˆ†é’Ÿ</span>
                        </div>
                    </div>
                    <div class="progress-item warning">
                        <div class="progress-header">
                            <span class="progress-title">äººå·¥å¹²é¢„ä»»åŠ¡</span>
                            <span class="progress-status status-running">5/16 è¿›è¡Œä¸­</span>
                        </div>
                        <div class="progress-info">
                            <span>å·²å¤„ç†: 11</span>
                            <span>å¾…å¤„ç†: 5</span>
                        </div>
                    </div>
                    <div class="progress-item completed">
                        <div class="progress-header">
                            <span class="progress-title">æ£€æŸ¥ä»»åŠ¡</span>
                            <span class="progress-status status-completed">12/12 å®Œæˆ</span>
                        </div>
                        <div class="progress-info">
                            <span>å¼‚å¸¸å‘ç°: 2</span>
                            <span>å¤„ç†åŠæ—¶ç‡: 100%</span>
                        </div>
                    </div>

                    <div class="section-title">æ”¹è¿›å»ºè®®</div>
                    <div class="alert alert-info" style="margin-top: 12px;">
                        <span>ğŸ¯</span>
                        <div>
                            <strong>1.</strong> æˆæœ¬ä¸­å¿ƒ 5802 é¢‘ç¹å‡ºç°è´¹ç”¨å¼‚å¸¸ï¼Œå»ºè®®ä¼˜åŒ–å‰ç«¯æŠ¥è´¦æµç¨‹<br>
                            <strong>2.</strong> ä¿®ç†è´¹è°ƒæ•´ä»»åŠ¡å¯è¿›ä¸€æ­¥è‡ªåŠ¨åŒ–ï¼Œå‡å°‘äººå·¥ç¡®è®¤ç¯èŠ‚<br>
                            <strong>3.</strong> å»ºè®®å¢åŠ å¹¶è¡Œè®¡ç®—èµ„æºï¼Œæå‡ä»»åŠ¡æ‰§è¡Œæ•ˆç‡
                        </div>
                    </div>
                </div>

                <!-- AI Assistant Tab -->
                <div id="aiassistant" class="tab-content">
                    <div class="ai-container">
                        <div class="ai-header">
                            <h2>ğŸ¤– æœˆç»“AIåŠ©æ‰‹</h2>
                            <p>æ™ºèƒ½é—®ç­” Â· æ•°æ®åˆ†æ Â· æµç¨‹æŒ‡å¯¼</p>
                        </div>

                        <div class="common-questions">
                            <div class="common-questions-title">ğŸ’¡ å¸¸è§é—®é¢˜å¿«æ·å‘é€</div>
                            <div class="question-buttons" id="questionButtons">
                                <!-- Will be populated by JavaScript -->
                            </div>
                        </div>

                        <div class="chat-area" id="chatArea">
                            <div class="empty-state">
                                ğŸ‘‹ æ‚¨å¥½ï¼æˆ‘æ˜¯æœˆç»“AIåŠ©æ‰‹ï¼Œå¯ä»¥å¸®æ‚¨æŸ¥è¯¢æœˆç»“è¿›åº¦ã€ä»»åŠ¡çŠ¶æ€ã€ç³»ç»Ÿä¿¡æ¯ç­‰ã€‚<br>
                                ç‚¹å‡»ä¸Šæ–¹å¿«æ·é—®é¢˜æˆ–ç›´æ¥è¾“å…¥æ‚¨çš„é—®é¢˜å¼€å§‹å¯¹è¯ã€‚
                            </div>
                        </div>

                        <div class="input-area">
                            <textarea
                                class="chat-input"
                                id="chatInput"
                                placeholder="è¾“å…¥æ‚¨çš„é—®é¢˜ï¼Œä¾‹å¦‚ï¼šå½“å‰æœˆç»“è¿›åº¦å¦‚ä½•ï¼Ÿæˆæœ¬ä¸­å¿ƒ5802æœ‰ä»€ä¹ˆå¼‚å¸¸ï¼Ÿ"
                                rows="1"
                            ></textarea>
                            <button class="send-btn" id="sendBtn" onclick="sendMessage()">å‘é€</button>
                        </div>

                        <div class="ai-suggestions" id="suggestions" style="display: none;">
                            <div class="suggestions-title">ğŸ’¡ æç¤º</div>
                            <div id="suggestionsContent"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Status Light Corner (Visual Indicator) - ONLY on Overview Page -->
    <div class="status-light-corner" id="statusLightCorner">
        <div class="status-light-title">æœˆç»“çŠ¶æ€</div>
        <div class="traffic-light">
            <div class="light red"></div>
            <div class="light yellow active"></div>
            <div class="light green"></div>
        </div>
        <div class="status-light-text">è¿›è¡Œä¸­ï¼ˆé»„è‰²é¢„è­¦ï¼‰</div>
    </div>

    <!-- Modal -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <div class="modal-header" id="modalTitle">æ ‡é¢˜</div>
            <div id="modalBody">å†…å®¹</div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal()">å–æ¶ˆ</button>
                <button class="btn btn-primary" id="modalConfirm" onclick="closeModal()">ç¡®å®š</button>
            </div>
        </div>
    </div>

    <script>
        // Common Questions Database
        const commonQuestions = [
            { text: "å½“å‰æœˆç»“è¿›åº¦å¦‚ä½•ï¼Ÿ", keywords: ["è¿›åº¦", "å®Œæˆ", "ç™¾åˆ†æ¯”"] },
            { text: "æœ‰å“ªäº›å¼‚å¸¸ä»»åŠ¡ï¼Ÿ", keywords: ["å¼‚å¸¸", "é”™è¯¯", "é—®é¢˜"] },
            { text: "å·¥å‚5802çš„çŠ¶æ€ï¼Ÿ", keywords: ["5802", "å·¥å‚", "çŠ¶æ€"] },
            { text: "ç»“è½¬ç”Ÿäº§æˆæœ¬è¿›åº¦ï¼Ÿ", keywords: ["ç»“è½¬", "æˆæœ¬", "ç”Ÿäº§"] },
            { text: "ç³»ç»Ÿè¿è¡ŒçŠ¶æ€ï¼Ÿ", keywords: ["ç³»ç»Ÿ", "çŠ¶æ€", "å¥åº·"] },
            { text: "æœˆç»“å®Œæˆç‡æ˜¯å¤šå°‘ï¼Ÿ", keywords: ["å®Œæˆç‡", "ç»©æ•ˆ", "æŒ‡æ ‡"] },
            { text: "å“ªäº›ä»»åŠ¡éœ€è¦äººå·¥å¹²é¢„ï¼Ÿ", keywords: ["äººå·¥", "å¹²é¢„", "å¤„ç†"] },
            { text: "RPAæœºå™¨äººçŠ¶æ€ï¼Ÿ", keywords: ["RPA", "æœºå™¨äºº", "è‡ªåŠ¨åŒ–"] }
        ];

        // AI Response Logic
        const systemData = {
            overview: {
                progress: "68%",
                completedTasks: 34,
                totalTasks: 50,
                inProgress: 8,
                exceptions: 2,
                status: "æœˆç»“è¿›è¡Œä¸­ï¼ˆé»„è‰²é¢„è­¦ï¼‰",
                estimatedCompletion: "2026å¹´1æœˆ7æ—¥ 18:00"
            },
            factories: {
                "5802": { status: "å·²å®Œæˆ", tasks: ["ç»“è½¬ç”Ÿäº§æˆæœ¬", "ä¿®ç†è´¹è°ƒæ•´"], exception: "è´¹ç”¨ä¸ä¸º0ï¼Œéœ€äººå·¥å¹²é¢„" },
                "5803": { status: "è¿›è¡Œä¸­", tasks: ["ç»“è½¬ç”Ÿäº§æˆæœ¬", "ä¿®ç†è´¹è°ƒæ•´"], exception: "æ— " },
                "5809": { status: "å¾…æ‰§è¡Œ", tasks: ["ç»“è½¬ç”Ÿäº§æˆæœ¬", "ä¿®ç†è´¹è°ƒæ•´"], exception: "æ— " },
                "5815": { status: "å¾…æ‰§è¡Œ", tasks: ["ç»“è½¬ç”Ÿäº§æˆæœ¬", "ä¿®ç†è´¹è°ƒæ•´"], exception: "æ— " }
            },
            tasks: {
                "ç»“è½¬ç”Ÿäº§æˆæœ¬": { status: "è¿›è¡Œä¸­", progress: "65%", factories: ["5802", "5803", "5809", "5815"], type: "è‡ªåŠ¨æ‰§è¡Œ" },
                "ä¿®ç†è´¹è°ƒæ•´è‡³ç®¡ç†è´¹ç”¨": { status: "å¾…æ‰§è¡Œ", progress: "0%", factories: ["5802", "5803", "5809", "5815"], type: "è‡ªåŠ¨æ‰§è¡Œ", prerequisite: "ç»“è½¬ç”Ÿäº§æˆæœ¬" },
                "åˆ†æ‘Šå¾ªç¯-é—´æ¥äººå·¥": { status: "å¾…æ‰§è¡Œ", progress: "0%", type: "è‡ªåŠ¨æ‰§è¡Œ", prerequisite: "ä¿®ç†è´¹è°ƒæ•´" },
                "æ£€æŸ¥ç®¡ç†åˆ¶é€ ç±»æˆæœ¬ä¸­å¿ƒè´¹ç”¨": { status: "å¼‚å¸¸", progress: "30%", error: "æˆæœ¬ä¸­å¿ƒ5802è´¹ç”¨ä¸ä¸º0", type: "æ£€æŸ¥ä»»åŠ¡" }
            },
            system: {
                sap: { status: "æ­£å¸¸", responseTime: "45ms", lastSync: "14:25:33" },
                bw: { status: "æ­£å¸¸", delay: "< 1åˆ†é’Ÿ", lastSync: "14:24:18" },
                rpa: { status: "è¿è¡Œä¸­", active: "3/5", queue: "2" },
                notification: { status: "æ­£å¸¸", feishu: "å¯ç”¨", email: "å¯ç”¨" }
            },
            analytics: {
                completionRate: "96%",
                avgTime: "4.5å¤©",
                exceptionRate: "4%",
                automationRate: "68%",
                improvement: "ç›¸æ¯”ä¸Šæœˆï¼Œå¹³å‡è€—æ—¶å‡å°‘18%ï¼Œäººå·¥å¹²é¢„å‡å°‘35%"
            },
            tasksDetailed: [
                { id: 1, name: "ç»“è½¬ç”Ÿäº§æˆæœ¬", company: "1110", factory: "5802", module: "CO", type: "è‡ªåŠ¨æ‰§è¡Œ", status: "å·²å®Œæˆ", time: "2åˆ†é’Ÿ" },
                { id: 2, name: "ç»“è½¬ç”Ÿäº§æˆæœ¬", company: "1110", factory: "5803", module: "CO", type: "è‡ªåŠ¨æ‰§è¡Œ", status: "å·²å®Œæˆ", time: "2åˆ†é’Ÿ" },
                { id: 3, name: "ç»“è½¬ç”Ÿäº§æˆæœ¬", company: "1110", factory: "5809", module: "CO", type: "è‡ªåŠ¨æ‰§è¡Œ", status: "è¿›è¡Œä¸­", time: "å·²æ‰§è¡Œ1.5åˆ†é’Ÿ" },
                { id: 4, name: "ç»“è½¬ç”Ÿäº§æˆæœ¬", company: "1110", factory: "5815", module: "CO", type: "è‡ªåŠ¨æ‰§è¡Œ", status: "è¿›è¡Œä¸­", time: "å·²æ‰§è¡Œ1.5åˆ†é’Ÿ" },
                { id: 5, name: "ä¿®ç†è´¹è°ƒæ•´è‡³ç®¡ç†è´¹ç”¨", company: "1110", factory: "5815", module: "CO", type: "è‡ªåŠ¨æ‰§è¡Œ", status: "å¾…æ‰§è¡Œ", time: "é¢„è®¡3åˆ†é’Ÿ", prerequisite: "ç»“è½¬ç”Ÿäº§æˆæœ¬" },
                { id: 6, name: "ä¿®ç†è´¹è°ƒæ•´è‡³ç®¡ç†è´¹ç”¨", company: "1110", factory: "5809", module: "CO", type: "è‡ªåŠ¨æ‰§è¡Œ", status: "å¾…æ‰§è¡Œ", time: "é¢„è®¡3åˆ†é’Ÿ", prerequisite: "ç»“è½¬ç”Ÿäº§æˆæœ¬" },
                { id: 7, name: "ä¿®ç†è´¹è°ƒæ•´è‡³ç®¡ç†è´¹ç”¨", company: "1110", factory: "5803", module: "CO", type: "è‡ªåŠ¨æ‰§è¡Œ", status: "å¾…æ‰§è¡Œ", time: "é¢„è®¡3åˆ†é’Ÿ", prerequisite: "ç»“è½¬ç”Ÿäº§æˆæœ¬" },
                { id: 8, name: "ä¿®ç†è´¹è°ƒæ•´è‡³ç®¡ç†è´¹ç”¨", company: "1110", factory: "5802", module: "CO", type: "è‡ªåŠ¨æ‰§è¡Œ", status: "å¾…æ‰§è¡Œ", time: "é¢„è®¡3åˆ†é’Ÿ", prerequisite: "ç»“è½¬ç”Ÿäº§æˆæœ¬" },
                { id: 9, name: "åˆ†æ‘Šå¾ªç¯-é—´æ¥äººå·¥", company: "1110", factory: "-", module: "CO", type: "è‡ªåŠ¨æ‰§è¡Œ", status: "å¾…æ‰§è¡Œ", time: "é¢„è®¡5åˆ†é’Ÿ", prerequisite: "ä¿®ç†è´¹è°ƒæ•´" },
                { id: 10, name: "åˆ†é…å¾ªç¯-æŠ˜æ—§é—´æ¥åˆ°é—´æ¥", company: "1110", factory: "-", module: "CO", type: "è‡ªåŠ¨æ‰§è¡Œ", status: "å¾…æ‰§è¡Œ", time: "é¢„è®¡4åˆ†é’Ÿ", prerequisite: "åˆ†æ‘Šå¾ªç¯" }
            ]
        };

        // Tab Switching
        function switchTab(tabName) {
            const tabs = document.querySelectorAll('.tab-content');
            tabs.forEach(tab => tab.classList.remove('active'));

            const buttons = document.querySelectorAll('.nav-btn');
            buttons.forEach(btn => btn.classList.remove('active'));

            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');

            // Update page title
            const titles = {
                'overview': 'æœˆç»“æ€»è§ˆ',
                'progress': 'æœˆç»“è¿›åº¦',
                'tasks': 'ä»»åŠ¡ç®¡ç†',
                'monitor': 'ç›‘æ§ä¸­å¿ƒ',
                'parameters': 'å‚æ•°è®¾ç½®',
                'notifications': 'é€šçŸ¥ä¸­å¿ƒ',
                'analytics': 'ç»©æ•ˆåˆ†æ',
                'aiassistant': 'AIåŠ©æ‰‹'
            };
            document.getElementById('pageTitle').textContent = titles[tabName];

            // Show/hide status light corner based on tab
            const statusLight = document.getElementById('statusLightCorner');
            if (tabName === 'overview') {
                statusLight.classList.add('visible');
            } else {
                statusLight.classList.remove('visible');
            }

            // Initialize AI assistant if switching to it
            if (tabName === 'aiassistant') {
                initializeAIAssistant();
            }
        }

        // Modal Functions
        function showModal(title, content, confirmText = 'ç¡®å®š') {
            document.getElementById('modalTitle').textContent = title;
            document.getElementById('modalBody').innerHTML = content;
            document.getElementById('modalConfirm').textContent = confirmText;
            document.getElementById('modal').classList.add('active');
        }

        function closeModal() {
            document.getElementById('modal').classList.remove('active');
        }

        // AI Assistant Functions
        function initializeAIAssistant() {
            const questionButtons = document.getElementById('questionButtons');
            if (questionButtons.children.length === 0) {
                commonQuestions.forEach((q, index) => {
                    const btn = document.createElement('button');
                    btn.className = 'question-btn';
                    btn.textContent = q.text;
                    btn.onclick = () => {
                        document.getElementById('chatInput').value = q.text;
                        sendMessage();
                    };
                    questionButtons.appendChild(btn);
                });
            }

            // Auto-resize textarea
            const chatInput = document.getElementById('chatInput');
            chatInput.addEventListener('input', function() {
                this.style.height = 'auto';
                this.style.height = Math.min(this.scrollHeight, 100) + 'px';
            });

            // Enter to send
            chatInput.addEventListener('keydown', function(e) {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    sendMessage();
                }
            });
        }

        function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();

            if (!message) return;

            // Add user message
            addMessage(message, 'user');
            input.value = '';
            input.style.height = 'auto';

            // Show typing indicator
            showTypingIndicator();

            // Process AI response
            setTimeout(() => {
                removeTypingIndicator();
                const response = processAIQuery(message);
                addMessage(response, 'ai');
            }, 800);
        }

        function addMessage(text, type) {
            const chatArea = document.getElementById('chatArea');

            // Remove empty state if exists
            const emptyState = chatArea.querySelector('.empty-state');
            if (emptyState) {
                emptyState.remove();
            }

            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${type}`;

            const time = new Date().toLocaleTimeString('zh-CN', { hour: '2-digit', minute: '2-digit' });

            messageDiv.innerHTML = `
                ${text}
                <div class="message-time">${time}</div>
            `;

            chatArea.appendChild(messageDiv);
            chatArea.scrollTop = chatArea.scrollHeight;
        }

        function showTypingIndicator() {
            const chatArea = document.getElementById('chatArea');
            const typingDiv = document.createElement('div');
            typingDiv.className = 'message ai typing';
            typingDiv.id = 'typingIndicator';
            typingDiv.innerHTML = `
                <div class="typing-indicator">
                    <span class="typing-dot"></span>
                    <span class="typing-dot"></span>
                    <span class="typing-dot"></span>
                </div>
            `;
            chatArea.appendChild(typingDiv);
            chatArea.scrollTop = chatArea.scrollHeight;
        }

        function removeTypingIndicator() {
            const indicator = document.getElementById('typingIndicator');
            if (indicator) {
                indicator.remove();
            }
        }

        function processAIQuery(query) {
            const lowerQuery = query.toLowerCase();

            // Check for keywords and return appropriate response
            if (lowerQuery.includes('è¿›åº¦') || lowerQuery.includes('å®Œæˆ') || lowerQuery.includes('ç™¾åˆ†æ¯”')) {
                return `ğŸ“Š å½“å‰æœˆç»“è¿›åº¦ï¼š<strong>${systemData.overview.progress}</strong><br>
                å·²å®Œæˆä»»åŠ¡ï¼š${systemData.overview.completedTasks}/${systemData.overview.totalTasks}<br>
                è¿›è¡Œä¸­ï¼š${systemData.overview.inProgress}ä¸ª<br>
                å¼‚å¸¸é¢„è­¦ï¼š${systemData.overview.exceptions}ä¸ª<br>
                é¢„è®¡å®Œæˆæ—¶é—´ï¼š${systemData.overview.estimatedCompletion}`;
            }

            if (lowerQuery.includes('å¼‚å¸¸') || lowerQuery.includes('é”™è¯¯') || lowerQuery.includes('é—®é¢˜')) {
                return `âš ï¸ å¼‚å¸¸ä»»åŠ¡è¯¦æƒ…ï¼š<br><br>
                <strong>1. æˆæœ¬ä¸­å¿ƒè´¹ç”¨æ£€æŸ¥</strong><br>
                â€¢ ä»»åŠ¡ï¼šæ£€æŸ¥ç®¡ç†åˆ¶é€ ç±»æˆæœ¬ä¸­å¿ƒè´¹ç”¨<br>
                â€¢ çŠ¶æ€ï¼šå¼‚å¸¸<br>
                â€¢ é—®é¢˜ï¼šæˆæœ¬ä¸­å¿ƒ5802è´¹ç”¨ä¸ä¸º0<br>
                â€¢ å¤„ç†ï¼šéœ€äººå·¥å¹²é¢„<br><br>
                <strong>2. ç³»ç»Ÿé¢„è­¦</strong><br>
                â€¢ æ£€æµ‹åˆ°2ä¸ªå¼‚å¸¸ä»»åŠ¡<br>
                â€¢ å·²é€šçŸ¥ç›¸å…³è´£ä»»äºº`;
            }

            if (lowerQuery.includes('5802') || lowerQuery.includes('å·¥å‚5802')) {
                const factory = systemData.factories["5802"];
                return `ğŸ­ å·¥å‚5802çŠ¶æ€ï¼š<br><br>
                â€¢ çŠ¶æ€ï¼š${factory.status}<br>
                â€¢ ä»»åŠ¡ï¼š${factory.tasks.join('ã€')}<br>
                â€¢ å¼‚å¸¸ï¼š${factory.exception}<br>
                â€¢ å»ºè®®ï¼šè¯·æ£€æŸ¥è´¹ç”¨æŠ¥è´¦æ•°æ®ï¼Œç¡®ä¿è´¹ç”¨å½’é›¶`;
            }

            if (lowerQuery.includes('5803') || lowerQuery.includes('å·¥å‚5803')) {
                const factory = systemData.factories["5803"];
                return `ğŸ­ å·¥å‚5803çŠ¶æ€ï¼š<br><br>
                â€¢ çŠ¶æ€ï¼š${factory.status}<br>
                â€¢ ä»»åŠ¡ï¼š${factory.tasks.join('ã€')}<br>
                â€¢ å¼‚å¸¸ï¼š${factory.exception}`;
            }

            if (lowerQuery.includes('5809') || lowerQuery.includes('å·¥å‚5809')) {
                const factory = systemData.factories["5809"];
                return `ğŸ­ å·¥å‚5809çŠ¶æ€ï¼š<br><br>
                â€¢ çŠ¶æ€ï¼š${factory.status}<br>
                â€¢ ä»»åŠ¡ï¼š${factory.tasks.join('ã€')}<br>
                â€¢ å¼‚å¸¸ï¼š${factory.exception}`;
            }

            if (lowerQuery.includes('5815') || lowerQuery.includes('å·¥å‚5815')) {
                const factory = systemData.factories["5815"];
                return `ğŸ­ å·¥å‚5815çŠ¶æ€ï¼š<br><br>
                â€¢ çŠ¶æ€ï¼š${factory.status}<br>
                â€¢ ä»»åŠ¡ï¼š${factory.tasks.join('ã€')}<br>
                â€¢ å¼‚å¸¸ï¼š${factory.exception}`;
            }

            if (lowerQuery.includes('ç»“è½¬') || lowerQuery.includes('ç”Ÿäº§æˆæœ¬')) {
                const task = systemData.tasks["ç»“è½¬ç”Ÿäº§æˆæœ¬"];
                return `ğŸ“Š ç»“è½¬ç”Ÿäº§æˆæœ¬ä»»åŠ¡ï¼š<br><br>
                â€¢ çŠ¶æ€ï¼š${task.status}<br>
                â€¢ è¿›åº¦ï¼š${task.progress}<br>
                â€¢ æ¶‰åŠå·¥å‚ï¼š${task.factories.join('ã€')}<br>
                â€¢ ç±»å‹ï¼š${task.type}<br>
                â€¢ è¯´æ˜ï¼šå°†å„å·¥å‚ç”Ÿäº§æˆæœ¬ç»“è½¬è‡³ç›¸åº”ç§‘ç›®`;
            }

            if (lowerQuery.includes('ä¿®ç†è´¹') || lowerQuery.includes('è°ƒæ•´')) {
                const task = systemData.tasks["ä¿®ç†è´¹è°ƒæ•´è‡³ç®¡ç†è´¹ç”¨"];
                return `ğŸ”§ ä¿®ç†è´¹è°ƒæ•´ä»»åŠ¡ï¼š<br><br>
                â€¢ çŠ¶æ€ï¼š${task.status}<br>
                â€¢ è¿›åº¦ï¼š${task.progress}<br>
                â€¢ æ¶‰åŠå·¥å‚ï¼š${task.factories.join('ã€')}<br>
                â€¢ ç±»å‹ï¼š${task.type}<br>
                â€¢ å‰ç½®ä»»åŠ¡ï¼š${task.prerequisite}<br>
                â€¢ è¯´æ˜ï¼šå°†ä¿®ç†è´¹ä»æˆæœ¬ä¸­å¿ƒè°ƒæ•´è‡³ç®¡ç†è´¹ç”¨`;
            }

            if (lowerQuery.includes('ç³»ç»Ÿ') || lowerQuery.includes('çŠ¶æ€') || lowerQuery.includes('å¥åº·')) {
                const sys = systemData.system;
                return `ğŸ–¥ï¸ ç³»ç»Ÿè¿è¡ŒçŠ¶æ€ï¼š<br><br>
                <strong>SAPç³»ç»Ÿï¼š</strong>${sys.sap.status} (å“åº”æ—¶é—´ï¼š${sys.sap.responseTime})<br>
                <strong>BWæ•°æ®ä»“åº“ï¼š</strong>${sys.bw.status} (å»¶è¿Ÿï¼š${sys.bw.delay})<br>
                <strong>RPAæœºå™¨äººï¼š</strong>${sys.rpa.status} (æ´»è·ƒï¼š${sys.rpa.active}, é˜Ÿåˆ—ï¼š${sys.rpa.queue})<br>
                <strong>é€šçŸ¥æœåŠ¡ï¼š</strong>${sys.notification.status}<br>
                â€¢ é£ä¹¦æ¨é€ï¼š${sys.notification.feishu}<br>
                â€¢ é‚®ä»¶æ¨é€ï¼š${sys.notification.email}`;
            }

            if (lowerQuery.includes('å®Œæˆç‡') || lowerQuery.includes('ç»©æ•ˆ') || lowerQuery.includes('æŒ‡æ ‡')) {
                const analytics = systemData.analytics;
                return `ğŸ“ˆ ç»©æ•ˆåˆ†ææŒ‡æ ‡ï¼š<br><br>
                â€¢ æœˆç»“å®Œæˆç‡ï¼š${analytics.completionRate}<br>
                â€¢ å¹³å‡è€—æ—¶ï¼š${analytics.avgTime}<br>
                â€¢ å¼‚å¸¸ç‡ï¼š${analytics.exceptionRate}<br>
                â€¢ è‡ªåŠ¨åŒ–ç‡ï¼š${analytics.automationRate}<br><br>
                <strong>æ”¹è¿›æˆæ•ˆï¼š</strong><br>
                ${analytics.improvement}`;
            }

            if (lowerQuery.includes('äººå·¥') || lowerQuery.includes('å¹²é¢„') || lowerQuery.includes('å¤„ç†')) {
                const manualTasks = systemData.tasksDetailed.filter(t =>
                    t.status === 'å¾…æ‰§è¡Œ' || t.status === 'è¿›è¡Œä¸­'
                ).slice(0, 5);

                let response = `ğŸ‘¥ äººå·¥å¹²é¢„ä»»åŠ¡åˆ—è¡¨ï¼š<br><br>`;
                manualTasks.forEach(task => {
                    response += `â€¢ ${task.name} - ${task.factory} (${task.status})<br>`;
                    if (task.prerequisite) {
                        response += `  å‰ç½®ï¼š${task.prerequisite}<br>`;
                    }
                    response += `<br>`;
                });
                return response;
            }

            if (lowerQuery.includes('rpa') || lowerQuery.includes('æœºå™¨äºº') || lowerQuery.includes('è‡ªåŠ¨åŒ–')) {
                return `ğŸ¤– RPAæœºå™¨äººçŠ¶æ€ï¼š<br><br>
                â€¢ è¿è¡ŒçŠ¶æ€ï¼š${systemData.system.rpa.status}<br>
                â€¢ æ´»è·ƒæœºå™¨äººï¼š${systemData.system.rpa.active}<br>
                â€¢ é˜Ÿåˆ—ä»»åŠ¡ï¼š${systemData.system.rpa.queue}<br><br>
                RPAæœºå™¨äººæ­£åœ¨è‡ªåŠ¨æ‰§è¡Œï¼š<br>
                - ç»“è½¬ç”Ÿäº§æˆæœ¬<br>
                - ä¿®ç†è´¹è°ƒæ•´<br>
                - åˆ†æ‘Šå¾ªç¯`;
            }

            // Default response for unsupported queries
            return `ğŸ¤” æŠ±æ­‰ï¼Œæ‚¨è¯¢é—®çš„<strong>"${query}"</strong>åŠŸèƒ½æ­£åœ¨å¼€å‘ä¸­ï¼Œæ•¬è¯·æœŸå¾…ï¼<br><br>
            æˆ‘å¯ä»¥å¸®æ‚¨å›ç­”ä»¥ä¸‹é—®é¢˜ï¼š<br>
            â€¢ æœˆç»“è¿›åº¦æŸ¥è¯¢<br>
            â€¢ å¼‚å¸¸ä»»åŠ¡è¯¦æƒ…<br>
            â€¢ å·¥å‚çŠ¶æ€æŸ¥è¯¢<br>
            â€¢ ç³»ç»Ÿè¿è¡ŒçŠ¶æ€<br>
            â€¢ ç»©æ•ˆæŒ‡æ ‡åˆ†æ<br>
            â€¢ äººå·¥å¹²é¢„ä»»åŠ¡`;
        }

        // Action Functions (from original file)
        function startBatchExecution() {
            showModal('æ‰¹é‡æ‰§è¡Œ', `
                <div class="alert alert-info">
                    <span>â„¹ï¸</span>
                    <div>å³å°†æ‰¹é‡æ‰§è¡Œæ‰€æœ‰å¾…æ‰§è¡Œä»»åŠ¡ï¼Œç³»ç»Ÿå°†æŒ‰é¡ºåºè‡ªåŠ¨æ‰§è¡Œã€‚</div>
                </div>
                <p><strong>æ‰§è¡ŒèŒƒå›´ï¼š</strong></p>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li>ä»»åŠ¡æ•°é‡ï¼š8 ä¸ª</li>
                    <li>é¢„è®¡è€—æ—¶ï¼š15 åˆ†é’Ÿ</li>
                    <li>æ¶‰åŠå·¥å‚ï¼š5802, 5803, 5809, 5815</li>
                </ul>
                <p style="margin-top: 15px; color: #666; font-size: 13px;">
                    ğŸ’¡ æç¤ºï¼šæ‰§è¡Œè¿‡ç¨‹ä¸­å¯éšæ—¶æŸ¥çœ‹è¿›åº¦ï¼Œå¦‚é‡å¼‚å¸¸ä¼šè‡ªåŠ¨æš‚åœå¹¶é€šçŸ¥ã€‚
                </p>
            `, 'å¼€å§‹æ‰§è¡Œ');
        }

        function simulateMonthEnd() {
            showModal('æœˆç»“æ¨¡æ‹Ÿ', `
                <div class="alert alert-warning">
                    <span>âš ï¸</span>
                    <div>æœˆç»“æ¨¡æ‹Ÿå°†åœ¨æµ‹è¯•ç¯å¢ƒä¸­è¿è¡Œï¼Œä¸ä¼šå½±å“ç”Ÿäº§æ•°æ®ã€‚</div>
                </div>
                <p><strong>æ¨¡æ‹Ÿå†…å®¹ï¼š</strong></p>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li>å®Œæ•´æœˆç»“æµç¨‹æ¼”ç»ƒ</li>
                    <li>å¼‚å¸¸åœºæ™¯æµ‹è¯•</li>
                    <li>æ€§èƒ½åŸºå‡†æµ‹è¯•</li>
                </ul>
                <p style="margin-top: 15px; color: #666; font-size: 13px;">
                    ğŸ“Š æ¨¡æ‹Ÿç»“æœå°†ç”Ÿæˆè¯¦ç»†æŠ¥å‘Šï¼ŒåŒ…æ‹¬è€—æ—¶åˆ†æå’Œä¼˜åŒ–å»ºè®®ã€‚
                </p>
            `, 'å¼€å§‹æ¨¡æ‹Ÿ');
        }

        function showAlertCheck() {
            showModal('æ—¥æ¸…æ£€æŸ¥', `
                <div class="alert alert-info">
                    <span>ğŸ”</span>
                    <div>ç³»ç»Ÿå°†è‡ªåŠ¨æ‰§è¡Œæ—¥æ¸…æ£€æŸ¥ï¼ŒéªŒè¯æ‰€æœ‰å‰ç½®æ¡ä»¶ã€‚</div>
                </div>
                <p><strong>æ£€æŸ¥é¡¹ï¼š</strong></p>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li>âœ… è´¹ç”¨æŠ¥è´¦å®Œæˆæƒ…å†µ</li>
                    <li>âœ… è´¦æœŸå¼€å¯çŠ¶æ€</li>
                    <li>âœ… ç³»ç»Ÿè¿æ¥å¥åº·åº¦</li>
                    <li>âœ… æ•°æ®åŒæ­¥çŠ¶æ€</li>
                    <li>âœ… æƒé™é…ç½®éªŒè¯</li>
                </ul>
                <p style="margin-top: 15px; color: #666; font-size: 13px;">
                    ğŸ’¡ æ£€æŸ¥ç»“æœå°†åœ¨ 2 åˆ†é’Ÿå†…å®Œæˆï¼Œå¼‚å¸¸é¡¹ä¼šè‡ªåŠ¨æ ‡è®°ã€‚
                </p>
            `, 'æ‰§è¡Œæ£€æŸ¥');
        }

        function resetProcess() {
            if (confirm('ç¡®å®šè¦é‡ç½®æœˆç»“æµç¨‹å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ’¤é”€ã€‚')) {
                showModal('æµç¨‹é‡ç½®', `
                    <div class="alert alert-danger">
                        <span>ğŸ”„</span>
                        <div>æœˆç»“æµç¨‹å·²é‡ç½®ï¼Œæ‰€æœ‰ä»»åŠ¡çŠ¶æ€å°†æ¢å¤åˆ°åˆå§‹çŠ¶æ€ã€‚</div>
                    </div>
                    <p style="margin-top: 15px; color: #666;">
                        è¯·é‡æ–°æ‰§è¡Œæ—¥æ¸…æ£€æŸ¥ï¼Œç¡®è®¤æ‰€æœ‰å‰ç½®æ¡ä»¶æ»¡è¶³åå†æ¬¡å¼€å§‹æœˆç»“ã€‚
                    </p>
                `, 'ç¡®è®¤');
            }
        }

        function exportTaskList() {
            showModal('å¯¼å‡ºä»»åŠ¡æ¸…å•', `
                <div class="alert alert-success">
                    <span>ğŸ“¥</span>
                    <div>ä»»åŠ¡æ¸…å•å¯¼å‡ºæˆåŠŸï¼</div>
                </div>
                <p><strong>å¯¼å‡ºä¿¡æ¯ï¼š</strong></p>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li>æ–‡ä»¶æ ¼å¼ï¼šExcel (.xlsx)</li>
                    <li>æ–‡ä»¶å¤§å°ï¼š45 KB</li>
                    <li>åŒ…å«ä»»åŠ¡ï¼š50 ä¸ª</li>
                    <li>å¯¼å‡ºæ—¶é—´ï¼š${new Date().toLocaleTimeString()}</li>
                </ul>
                <p style="margin-top: 15px; color: #666; font-size: 13px;">
                    ğŸ“„ æ–‡ä»¶å·²ä¸‹è½½åˆ°æœ¬åœ°ï¼Œå¯ç”¨äºç¦»çº¿åˆ†æå’Œå­˜æ¡£ã€‚
                </p>
            `, 'ä¸‹è½½æ–‡ä»¶');
        }

        function showAddTaskModal() {
            showModal('æ–°å¢ä»»åŠ¡', `
                <div class="form-group">
                    <label class="form-label">ä»»åŠ¡åç§°</label>
                    <input type="text" class="form-input" placeholder="è¾“å…¥ä»»åŠ¡åç§°">
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">å…¬å¸ä»£ç </label>
                        <input type="text" class="form-input" placeholder="1110">
                    </div>
                    <div class="form-group">
                        <label class="form-label">å·¥å‚</label>
                        <input type="text" class="form-input" placeholder="5802">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">æ¨¡å—</label>
                        <select class="form-select">
                            <option>CO</option>
                            <option>FI</option>
                            <option>MM</option>
                            <option>SD</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">ä»»åŠ¡ç±»å‹</label>
                        <select class="form-select">
                            <option>è‡ªåŠ¨æ‰§è¡Œ</option>
                            <option>äººå·¥ç¡®è®¤</option>
                            <option>æ£€æŸ¥ä»»åŠ¡</option>
                        </select>
                    </div>
                </div>
            `, 'ä¿å­˜ä»»åŠ¡');
        }

        function showTaskTemplateModal() {
            showModal('ä»»åŠ¡æ¨¡æ¿', `
                <div class="alert alert-info">
                    <span>ğŸ“„</span>
                    <div>é€‰æ‹©æ¨¡æ¿å¿«é€Ÿåˆ›å»ºæ ‡å‡†åŒ–ä»»åŠ¡</div>
                </div>
                <div style="margin-top: 15px;">
                    <button class="btn btn-primary" style="width: 100%; margin-bottom: 10px;">æˆæœ¬æœˆç»“æ¨¡æ¿</button>
                    <button class="btn btn-primary" style="width: 100%; margin-bottom: 10px;">è´¹ç”¨åˆ†æ‘Šæ¨¡æ¿</button>
                    <button class="btn btn-primary" style="width: 100%; margin-bottom: 10px;">å…³è´¦æ£€æŸ¥æ¨¡æ¿</button>
                    <button class="btn btn-primary" style="width: 100%;">æŠ¥è¡¨ç”Ÿæˆæ¨¡æ¿</button>
                </div>
            `, 'ç¡®è®¤');
        }

        function viewTaskDetail(taskId) {
            const taskDetails = {
                1: { name: 'ç»“è½¬ç”Ÿäº§æˆæœ¬', company: '1110', factory: '5802', module: 'CO', type: 'è‡ªåŠ¨æ‰§è¡Œ', status: 'å·²å®Œæˆ',è€—æ—¶: '2åˆ†é’Ÿ', å‰ç½®: 'æ— ', ä¾èµ–: 'æ— ' },
                2: { name: 'ç»“è½¬ç”Ÿäº§æˆæœ¬', company: '1110', factory: '5803', module: 'CO', type: 'è‡ªåŠ¨æ‰§è¡Œ', status: 'å·²å®Œæˆ',è€—æ—¶: '2åˆ†é’Ÿ', å‰ç½®: 'æ— ', ä¾èµ–: 'æ— ' },
                3: { name: 'ç»“è½¬ç”Ÿäº§æˆæœ¬', company: '1110', factory: '5809', module: 'CO', type: 'è‡ªåŠ¨æ‰§è¡Œ', status: 'è¿›è¡Œä¸­',è€—æ—¶: 'å·²æ‰§è¡Œ1.5åˆ†é’Ÿ', å‰ç½®: 'æ— ', ä¾èµ–: 'æ— ' },
                4: { name: 'ç»“è½¬ç”Ÿäº§æˆæœ¬', company: '1110', factory: '5815', module: 'CO', type: 'è‡ªåŠ¨æ‰§è¡Œ', status: 'è¿›è¡Œä¸­',è€—æ—¶: 'å·²æ‰§è¡Œ1.5åˆ†é’Ÿ', å‰ç½®: 'æ— ', ä¾èµ–: 'æ— ' },
                5: { name: 'ä¿®ç†è´¹è°ƒæ•´è‡³ç®¡ç†è´¹ç”¨', company: '1110', factory: '5815', module: 'CO', type: 'è‡ªåŠ¨æ‰§è¡Œ', status: 'å¾…æ‰§è¡Œ',è€—æ—¶: 'é¢„è®¡3åˆ†é’Ÿ', å‰ç½®: 'ç»“è½¬ç”Ÿäº§æˆæœ¬', ä¾èµ–: 'é¡ºåºæ‰§è¡Œ' },
                6: { name: 'ä¿®ç†è´¹è°ƒæ•´è‡³ç®¡ç†è´¹ç”¨', company: '1110', factory: '5809', module: 'CO', type: 'è‡ªåŠ¨æ‰§è¡Œ', status: 'å¾…æ‰§è¡Œ',è€—æ—¶: 'é¢„è®¡3åˆ†é’Ÿ', å‰ç½®: 'ç»“è½¬ç”Ÿäº§æˆæœ¬', ä¾èµ–: 'é¡ºåºæ‰§è¡Œ' },
                7: { name: 'ä¿®ç†è´¹è°ƒæ•´è‡³ç®¡ç†è´¹ç”¨', company: '1110', factory: '5803', module: 'CO', type: 'è‡ªåŠ¨æ‰§è¡Œ', status: 'å¾…æ‰§è¡Œ',è€—æ—¶: 'é¢„è®¡3åˆ†é’Ÿ', å‰ç½®: 'ç»“è½¬ç”Ÿäº§æˆæœ¬', ä¾èµ–: 'é¡ºåºæ‰§è¡Œ' },
                8: { name: 'ä¿®ç†è´¹è°ƒæ•´è‡³ç®¡ç†è´¹ç”¨', company: '1110', factory: '5802', module: 'CO', type: 'è‡ªåŠ¨æ‰§è¡Œ', status: 'å¾…æ‰§è¡Œ',è€—æ—¶: 'é¢„è®¡3åˆ†é’Ÿ', å‰ç½®: 'ç»“è½¬ç”Ÿäº§æˆæœ¬', ä¾èµ–: 'é¡ºåºæ‰§è¡Œ' },
                9: { name: 'åˆ†æ‘Šå¾ªç¯-é—´æ¥äººå·¥', company: '1110', factory: '-', module: 'CO', type: 'è‡ªåŠ¨æ‰§è¡Œ', status: 'å¾…æ‰§è¡Œ',è€—æ—¶: 'é¢„è®¡5åˆ†é’Ÿ', å‰ç½®: 'ä¿®ç†è´¹è°ƒæ•´', ä¾èµ–: 'é¡ºåºæ‰§è¡Œ' },
                10: { name: 'åˆ†é…å¾ªç¯-æŠ˜æ—§é—´æ¥åˆ°é—´æ¥', company: '1110', factory: '-', module: 'CO', type: 'è‡ªåŠ¨æ‰§è¡Œ', status: 'å¾…æ‰§è¡Œ',è€—æ—¶: 'é¢„è®¡4åˆ†é’Ÿ', å‰ç½®: 'åˆ†æ‘Šå¾ªç¯', ä¾èµ–: 'é¡ºåºæ‰§è¡Œ' }
            };

            const task = taskDetails[taskId];
            if (task) {
                showModal(`ä»»åŠ¡è¯¦æƒ… - ${task.name}`, `
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-top: 10px;">
                        <div><strong>å…¬å¸ä»£ç ï¼š</strong>${task.company}</div>
                        <div><strong>å·¥å‚ï¼š</strong>${task.factory}</div>
                        <div><strong>æ¨¡å—ï¼š</strong>${task.module}</div>
                        <div><strong>ç±»å‹ï¼š</strong>${task.type}</div>
                        <div><strong>çŠ¶æ€ï¼š</strong>${task.status}</div>
                        <div><strong>è€—æ—¶ï¼š</strong>${task.è€—æ—¶}</div>
                        <div><strong>å‰ç½®ä»»åŠ¡ï¼š</strong>${task.å‰ç½®}</div>
                        <div><strong>ä¾èµ–å…³ç³»ï¼š</strong>${task.ä¾èµ–}</div>
                    </div>
                    <div style="margin-top: 12px; padding: 10px; background: #f8f9fa; border-radius: 6px; font-size: 12px;">
                        <strong>æ‰§è¡Œæ—¥å¿—ï¼š</strong><br>
                        <span style="color: #666;">
                            2026-01-05 14:20:15 - ä»»åŠ¡å¯åŠ¨<br>
                            2026-01-05 14:20:18 - è¿æ¥SAPç³»ç»ŸæˆåŠŸ<br>
                            2026-01-05 14:20:22 - æ•°æ®éªŒè¯é€šè¿‡<br>
                            ${task.status === 'è¿›è¡Œä¸­' ? '2026-01-05 14:21:45 - æ‰§è¡Œä¸­...' : '2026-01-05 14:22:10 - ä»»åŠ¡å®Œæˆ'}
                        </span>
                    </div>
                `, 'å…³é—­');
            }
        }

        function saveParameters() {
            showModal('ä¿å­˜è®¾ç½®', `
                <div class="alert alert-success">
                    <span>âœ…</span>
                    <div>å‚æ•°è®¾ç½®å·²æˆåŠŸä¿å­˜ï¼</div>
                </div>
                <p style="margin-top: 12px; color: #666; font-size: 13px;">
                    å½“å‰é…ç½®å·²ä¿å­˜ï¼Œå¯åœ¨åº”ç”¨å‰è¿›è¡Œä¿®æ”¹ã€‚ä¸‹æ¬¡æœˆç»“å°†ä½¿ç”¨æ­¤é…ç½®ã€‚
                </p>
            `, 'ç¡®è®¤');
        }

        function applyParameters() {
            showModal('åº”ç”¨é…ç½®', `
                <div class="alert alert-warning">
                    <span>âš ï¸</span>
                    <div>ç¡®è®¤åº”ç”¨å½“å‰å‚æ•°é…ç½®ï¼Ÿæ­¤æ“ä½œå°†å½±å“æ­£åœ¨è¿›è¡Œçš„æœˆç»“æµç¨‹ã€‚</div>
                </div>
                <p style="margin-top: 12px; color: #666; font-size: 13px;">
                    åº”ç”¨åï¼Œç³»ç»Ÿå°†æ ¹æ®æ–°é…ç½®è°ƒæ•´ä»»åŠ¡ä¼˜å…ˆçº§ã€æ£€æŸ¥æ—¶é—´å’Œå…³è´¦ç­–ç•¥ã€‚
                </p>
            `, 'ç¡®è®¤åº”ç”¨');
        }

        function resetParameters() {
            if (confirm('ç¡®å®šè¦é‡ç½®ä¸ºé»˜è®¤å‚æ•°å—ï¼Ÿå½“å‰è‡ªå®šä¹‰è®¾ç½®å°†ä¸¢å¤±ã€‚')) {
                showModal('é‡ç½®é»˜è®¤', `
                    <div class="alert alert-info">
                        <span>ğŸ”„</span>
                        <div>å‚æ•°å·²é‡ç½®ä¸ºé»˜è®¤å€¼ã€‚</div>
                    </div>
                    <p style="margin-top: 12px; color: #666; font-size: 13px;">
                        é»˜è®¤å‚æ•°é€‚ç”¨äºæ ‡å‡†æœˆç»“æµç¨‹ï¼Œå¯æ ¹æ®å®é™…éœ€æ±‚è¿›è¡Œè°ƒæ•´ã€‚
                    </p>
                `, 'ç¡®è®¤');
            }
        }

        function showRPAModal() {
            showModal('RPA æœºå™¨äººé…ç½®', `
                <div class="alert alert-info">
                    <span>ğŸ¤–</span>
                    <div>é…ç½® RPA æœºå™¨äººæ‰§è¡Œå‚æ•°</div>
                </div>
                <div class="form-group" style="margin-top: 12px;">
                    <label class="form-label">æœºå™¨äººæ•°é‡</label>
                    <input type="number" class="form-input" value="5" min="1" max="10">
                </div>
                <div class="form-group">
                    <label class="form-label">æ‰§è¡Œè¶…æ—¶æ—¶é—´ï¼ˆåˆ†é’Ÿï¼‰</label>
                    <input type="number" class="form-input" value="30">
                </div>
                <div class="form-group">
                    <label class="form-label">é‡è¯•æ¬¡æ•°</label>
                    <input type="number" class="form-input" value="3">
                </div>
            `, 'ä¿å­˜é…ç½®');
        }

        function showWorkflowModal() {
            showModal('å·¥ä½œæµå¼•æ“', `
                <div class="alert alert-success">
                    <span>âš™ï¸</span>
                    <div>Apache Airflow å·²é›†æˆ</div>
                </div>
                <div style="margin-top: 12px;">
                    <p><strong>å½“å‰é…ç½®ï¼š</strong></p>
                    <ul style="margin-left: 20px; margin-top: 8px; font-size: 13px;">
                        <li>å·¥ä½œæµå®ä¾‹ï¼š3 ä¸ª</li>
                        <li>ä»»åŠ¡ä¾èµ–ï¼šå·²é…ç½®</li>
                        <li>è°ƒåº¦å™¨ï¼šè¿è¡Œä¸­</li>
                        <li>Web UIï¼šhttp://localhost:8080</li>
                    </ul>
                </div>
            `, 'è®¿é—®UI');
        }

        function showMDMModal() {
            showModal('ä¸»æ•°æ®ç®¡ç†', `
                <div class="alert alert-info">
                    <span>ğŸ“Š</span>
                    <div>ä¸»æ•°æ®åŒæ­¥ä¸ç»´æŠ¤</div>
                </div>
                <div style="margin-top: 12px;">
                    <p><strong>åŒæ­¥çŠ¶æ€ï¼š</strong></p>
                    <ul style="margin-left: 20px; margin-top: 8px; font-size: 13px;">
                        <li>âœ… å…¬å¸ä¸»ä½“ï¼šå®æ—¶åŒæ­¥</li>
                        <li>âœ… ä¾›åº”å•†/å®¢æˆ·ï¼šæ¯å°æ—¶åŒæ­¥</li>
                        <li>âœ… æ±‡ç‡ï¼šæ¯æ—¥ 02:00 åŒæ­¥</li>
                        <li>âœ… æˆæœ¬ä¸­å¿ƒï¼šå®æ—¶åŒæ­¥</li>
                    </ul>
                </div>
                <div style="margin-top: 12px;">
                    <button class="btn btn-primary" style="width: 100%; margin-bottom: 8px;">æ‰‹åŠ¨åŒæ­¥</button>
                    <button class="btn btn-secondary" style="width: 100%;">æŸ¥çœ‹æ•°æ®æ—¥å¿—</button>
                </div>
            `, 'å…³é—­');
        }

        function markAllRead() {
            showModal('æ ‡è®°å·²è¯»', `
                <div class="alert alert-success">
                    <span>âœ…</span>
                    <div>æ‰€æœ‰é€šçŸ¥å·²æ ‡è®°ä¸ºå·²è¯»</div>
                </div>
                <p style="margin-top: 12px; color: #666; font-size: 13px;">
                    å…±æ ‡è®° 5 æ¡é€šçŸ¥ä¸ºå·²è¯»çŠ¶æ€ã€‚
                </p>
            `, 'ç¡®è®¤');
        }

        function clearNotifications() {
            if (confirm('ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰é€šçŸ¥å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ã€‚')) {
                showModal('æ¸…ç©ºé€šçŸ¥', `
                    <div class="alert alert-danger">
                        <span>ğŸ—‘ï¸</span>
                        <div>é€šçŸ¥ä¸­å¿ƒå·²æ¸…ç©º</div>
                    </div>
                    <p style="margin-top: 12px; color: #666; font-size: 13px;">
                        æ‰€æœ‰é€šçŸ¥è®°å½•å·²è¢«åˆ é™¤ï¼Œç³»ç»Ÿå°†ç»§ç»­è®°å½•æ–°çš„é€šçŸ¥ã€‚
                    </p>
                `, 'ç¡®è®¤');
            }
        }

        function exportNotifications() {
            showModal('å¯¼å‡ºé€šçŸ¥è®°å½•', `
                <div class="alert alert-success">
                    <span>ğŸ“¥</span>
                    <div>é€šçŸ¥è®°å½•å¯¼å‡ºæˆåŠŸï¼</div>
                </div>
                <p><strong>å¯¼å‡ºä¿¡æ¯ï¼š</strong></p>
                <ul style="margin-left: 20px; margin-top: 8px; font-size: 13px;">
                    <li>æ–‡ä»¶æ ¼å¼ï¼šCSV</li>
                    <li>è®°å½•æ•°é‡ï¼š5 æ¡</li>
                    <li>æ—¶é—´èŒƒå›´ï¼š2026-01-05 08:00 - 14:20</li>
                </ul>
            `, 'ä¸‹è½½æ–‡ä»¶');
        }

        // Close modal when clicking outside
        document.getElementById('modal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });

        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeModal();
            }
        });

        // Auto-refresh simulation
        setInterval(() => {
            const runningProgress = document.querySelector('.progress-item.warning .progress-fill');
            if (runningProgress && runningProgress.style.width !== '100%') {
                const currentWidth = parseInt(runningProgress.style.width);
                if (currentWidth < 100) {
                    runningProgress.style.width = (currentWidth + Math.random() * 5) + '%';
                }
            }
        }, 3000);

        // Welcome message
        setTimeout(() => {
            const welcomeAlert = document.createElement('div');
            welcomeAlert.className = 'alert alert-success';
            welcomeAlert.style.position = 'fixed';
            welcomeAlert.style.top = '20px';
            welcomeAlert.style.right = '20px';
            welcomeAlert.style.zIndex = '9999';
            welcomeAlert.style.maxWidth = '400px';
            welcomeAlert.innerHTML = '<span>ğŸ‰</span><div>æ¬¢è¿ä½¿ç”¨æœˆç»“é©¾é©¶èˆ± v12ï¼AIåŠ©æ‰‹æŒ‰é’®å·²æ”¹ä¸ºç™½è‰²ï¼ŒçŠ¶æ€ç¯ä»…åœ¨æ€»è§ˆé¡µæ˜¾ç¤ºã€‚å½“å‰è¿›åº¦ 68%ï¼Œ2 ä¸ªå¼‚å¸¸å¾…å¤„ç†ã€‚</div>';
            document.body.appendChild(welcomeAlert);
            setTimeout(() => welcomeAlert.remove(), 5000);
        }, 1000);
    </script>
</body>
</html>
